"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/markets/route";
exports.ids = ["app/api/markets/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmarkets%2Froute&page=%2Fapi%2Fmarkets%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarkets%2Froute.ts&appDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmarkets%2Froute&page=%2Fapi%2Fmarkets%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarkets%2Froute.ts&appDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_augustin_dev_work_Arbiter_frontend_src_app_api_markets_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/markets/route.ts */ \"(rsc)/./src/app/api/markets/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/markets/route\",\n        pathname: \"/api/markets\",\n        filename: \"route\",\n        bundlePath: \"app/api/markets/route\"\n    },\n    resolvedPagePath: \"/Users/augustin/dev/work/Arbiter/frontend/src/app/api/markets/route.ts\",\n    nextConfigOutput,\n    userland: _Users_augustin_dev_work_Arbiter_frontend_src_app_api_markets_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/markets/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtYXJrZXRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZtYXJrZXRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbWFya2V0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmF1Z3VzdGluJTJGZGV2JTJGd29yayUyRkFyYml0ZXIlMkZmcm9udGVuZCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZhdWd1c3RpbiUyRmRldiUyRndvcmslMkZBcmJpdGVyJTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlZGljdGlvbi1kYXNoYm9hcmQvPzFmNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2F1Z3VzdGluL2Rldi93b3JrL0FyYml0ZXIvZnJvbnRlbmQvc3JjL2FwcC9hcGkvbWFya2V0cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWFya2V0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21hcmtldHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21hcmtldHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYXVndXN0aW4vZGV2L3dvcmsvQXJiaXRlci9mcm9udGVuZC9zcmMvYXBwL2FwaS9tYXJrZXRzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9tYXJrZXRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmarkets%2Froute&page=%2Fapi%2Fmarkets%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarkets%2Froute.ts&appDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/markets/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/markets/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_aggregator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/aggregator */ \"(rsc)/./src/services/aggregator.ts\");\n\n\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\nasync function GET() {\n    try {\n        const data = await _services_aggregator__WEBPACK_IMPORTED_MODULE_1__.marketAggregator.getDashboardData();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"[API] Failed to fetch markets:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to fetch market data\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tYXJrZXRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ2M7QUFFbEQsTUFBTUUsVUFBVSxnQkFBZ0I7QUFDaEMsTUFBTUMsYUFBYSxFQUFFO0FBRXJCLGVBQWVDO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1KLGtFQUFnQkEsQ0FBQ0ssZ0JBQWdCO1FBRXBELE9BQU9OLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEg7WUFDQUksV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1FBQ25DO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBRWhELE9BQU9aLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVEksT0FBTztRQUNULEdBQ0E7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVkaWN0aW9uLWRhc2hib2FyZC8uL3NyYy9hcHAvYXBpL21hcmtldHMvcm91dGUudHM/OGE5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IG1hcmtldEFnZ3JlZ2F0b3IgfSBmcm9tIFwiQC9zZXJ2aWNlcy9hZ2dyZWdhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XG5leHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDA7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IG1hcmtldEFnZ3JlZ2F0b3IuZ2V0RGFzaGJvYXJkRGF0YSgpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbQVBJXSBGYWlsZWQgdG8gZmV0Y2ggbWFya2V0czpcIiwgZXJyb3IpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBtYXJrZXQgZGF0YVwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIm1hcmtldEFnZ3JlZ2F0b3IiLCJkeW5hbWljIiwicmV2YWxpZGF0ZSIsIkdFVCIsImRhdGEiLCJnZXREYXNoYm9hcmREYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/markets/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/aggregator.ts":
/*!************************************!*\
  !*** ./src/services/aggregator.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarketAggregator: () => (/* binding */ MarketAggregator),\n/* harmony export */   marketAggregator: () => (/* binding */ marketAggregator)\n/* harmony export */ });\n/* harmony import */ var _polymarket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polymarket */ \"(rsc)/./src/services/polymarket.ts\");\n/* harmony import */ var _kalshi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kalshi */ \"(rsc)/./src/services/kalshi.ts\");\n/* harmony import */ var _discrepancy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./discrepancy */ \"(rsc)/./src/services/discrepancy.ts\");\n/* harmony import */ var _news__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./news */ \"(rsc)/./src/services/news.ts\");\n\n\n\n\nclass MarketAggregator {\n    /**\n   * Fetch and aggregate markets from all platforms\n   */ async fetchAllMarkets() {\n        const [polymarketData, kalshiData] = await Promise.allSettled([\n            _polymarket__WEBPACK_IMPORTED_MODULE_0__.polymarketService.fetchMarkets(30),\n            _kalshi__WEBPACK_IMPORTED_MODULE_1__.kalshiService.fetchMarkets(30)\n        ]);\n        const markets = [];\n        if (polymarketData.status === \"fulfilled\") {\n            markets.push(...polymarketData.value);\n        } else {\n            console.error(\"[Aggregator] Polymarket fetch failed:\", polymarketData.reason);\n        }\n        if (kalshiData.status === \"fulfilled\") {\n            markets.push(...kalshiData.value);\n        } else {\n            console.error(\"[Aggregator] Kalshi fetch failed:\", kalshiData.reason);\n        }\n        return markets;\n    }\n    /**\n   * Get dashboard-ready data with discrepancies and news\n   */ async getDashboardData() {\n        // For demo purposes, use mock data if API calls fail\n        let markets = await this.fetchAllMarkets();\n        if (markets.length === 0) {\n            markets = this.getMockMarkets();\n        }\n        // Detect discrepancies\n        const discrepancies = await _discrepancy__WEBPACK_IMPORTED_MODULE_2__.discrepancyEngine.detectDiscrepancies(markets);\n        // Group into dashboard events\n        const events = await this.buildDashboardEvents(markets, discrepancies);\n        // Calculate stats\n        const stats = {\n            totalMarkets: markets.length,\n            activeDiscrepancies: discrepancies.length,\n            avgSpread: discrepancies.length > 0 ? discrepancies.reduce((sum, d)=>sum + d.maxSpread, 0) / discrepancies.length : 0\n        };\n        return {\n            events,\n            discrepancies,\n            stats\n        };\n    }\n    /**\n   * Build dashboard events from markets and discrepancies\n   */ async buildDashboardEvents(markets, discrepancies) {\n        // Group markets by question similarity\n        const eventMap = new Map();\n        for (const market of markets){\n            const key = this.normalizeQuestion(market.question);\n            if (!eventMap.has(key)) {\n                eventMap.set(key, []);\n            }\n            eventMap.get(key).push(market);\n        }\n        const events = [];\n        for (const [key, eventMarkets] of eventMap){\n            if (eventMarkets.length === 0) continue;\n            const firstMarket = eventMarkets[0];\n            const bestYes = Math.max(...eventMarkets.map((m)=>m.yesProbability));\n            const bestNo = Math.max(...eventMarkets.map((m)=>m.noProbability));\n            // Find matching discrepancy\n            const discrepancy = discrepancies.find((d)=>this.normalizeQuestion(d.eventTitle) === key);\n            // Get news for this event\n            const news = await _news__WEBPACK_IMPORTED_MODULE_3__.newsService.searchNews(firstMarket.question);\n            events.push({\n                id: key,\n                slug: key,\n                title: firstMarket.question,\n                category: firstMarket.category,\n                markets: eventMarkets.map((m)=>({\n                        platform: m.platform,\n                        yesProbability: m.yesProbability,\n                        noProbability: m.noProbability,\n                        volume: m.volume,\n                        liquidity: m.liquidity,\n                        isBestYes: m.yesProbability === bestYes,\n                        isBestNo: m.noProbability === bestNo,\n                        lastUpdated: m.lastUpdated.toISOString()\n                    })),\n                discrepancy: discrepancy ? {\n                    spread: discrepancy.maxSpread,\n                    spreadPercent: discrepancy.spreadPercent,\n                    confidence: discrepancy.confidence\n                } : undefined,\n                recentNews: news.slice(0, 2).map((n)=>({\n                        title: n.title,\n                        source: n.source,\n                        url: n.url,\n                        publishedAt: n.publishedAt.toISOString(),\n                        relevance: n.relevanceScore\n                    }))\n            });\n        }\n        // Sort by whether they have discrepancies, then by volume\n        return events.sort((a, b)=>{\n            if (a.discrepancy && !b.discrepancy) return -1;\n            if (!a.discrepancy && b.discrepancy) return 1;\n            const aVol = a.markets.reduce((sum, m)=>sum + (m.volume || 0), 0);\n            const bVol = b.markets.reduce((sum, m)=>sum + (m.volume || 0), 0);\n            return bVol - aVol;\n        });\n    }\n    /**\n   * Normalize question for matching\n   */ normalizeQuestion(question) {\n        return question.toLowerCase().replace(/[^a-z0-9\\s]/g, \"\").trim().substring(0, 80);\n    }\n    /**\n   * Get mock markets for demo/development\n   */ getMockMarkets() {\n        return [\n            {\n                externalId: \"poly-btc-150k\",\n                platform: \"POLYMARKET\",\n                question: \"Will Bitcoin exceed $150k by end of 2026?\",\n                category: \"Crypto\",\n                yesProbability: 0.42,\n                noProbability: 0.58,\n                volume: 2400000,\n                liquidity: 890000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"kalshi-btc-150k\",\n                platform: \"KALSHI\",\n                question: \"Will Bitcoin exceed $150k by end of 2026?\",\n                category: \"Crypto\",\n                yesProbability: 0.38,\n                noProbability: 0.62,\n                volume: 890000,\n                liquidity: 320000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"poly-fed-q1\",\n                platform: \"POLYMARKET\",\n                question: \"Will the Fed cut rates in Q1 2026?\",\n                category: \"Economics\",\n                yesProbability: 0.67,\n                noProbability: 0.33,\n                volume: 5100000,\n                liquidity: 1200000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"kalshi-fed-q1\",\n                platform: \"KALSHI\",\n                question: \"Will the Fed cut rates in Q1 2026?\",\n                category: \"Economics\",\n                yesProbability: 0.71,\n                noProbability: 0.29,\n                volume: 1200000,\n                liquidity: 450000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"poly-gpt5\",\n                platform: \"POLYMARKET\",\n                question: \"Will GPT-5 be released before July 2026?\",\n                category: \"Tech\",\n                yesProbability: 0.55,\n                noProbability: 0.45,\n                volume: 780000,\n                liquidity: 290000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"kalshi-gpt5\",\n                platform: \"KALSHI\",\n                question: \"Will GPT-5 be released before July 2026?\",\n                category: \"Tech\",\n                yesProbability: 0.48,\n                noProbability: 0.52,\n                volume: 320000,\n                liquidity: 120000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"poly-recession\",\n                platform: \"POLYMARKET\",\n                question: \"Will the US enter a recession in 2026?\",\n                category: \"Economics\",\n                yesProbability: 0.28,\n                noProbability: 0.72,\n                volume: 3200000,\n                liquidity: 980000,\n                lastUpdated: new Date()\n            },\n            {\n                externalId: \"kalshi-recession\",\n                platform: \"KALSHI\",\n                question: \"Will the US enter a recession in 2026?\",\n                category: \"Economics\",\n                yesProbability: 0.31,\n                noProbability: 0.69,\n                volume: 1500000,\n                liquidity: 520000,\n                lastUpdated: new Date()\n            }\n        ];\n    }\n}\nconst marketAggregator = new MarketAggregator();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVE7Z0JBQ1JDLFdBQVc7Z0JBQ1hHLGFBQWEsSUFBSXdCO1lBQ25CO1lBQ0E7Z0JBQ0VELFlBQVk7Z0JBQ1o1QixVQUFVO2dCQUNWdkIsVUFBVTtnQkFDVnNCLFVBQVU7Z0JBQ1ZYLGdCQUFnQjtnQkFDaEJFLGVBQWU7Z0JBQ2ZXLFFBQVE7Z0JBQ1JDLFdBQVc7Z0JBQ1hHLGFBQWEsSUFBSXdCO1lBQ25CO1lBQ0E7Z0JBQ0VELFlBQVk7Z0JBQ1o1QixVQUFVO2dCQUNWdkIsVUFBVTtnQkFDVnNCLFVBQVU7Z0JBQ1ZYLGdCQUFnQjtnQkFDaEJFLGVBQWU7Z0JBQ2ZXLFFBQVE7Z0JBQ1JDLFdBQVc7Z0JBQ1hHLGFBQWEsSUFBSXdCO1lBQ25CO1lBQ0E7Z0JBQ0VELFlBQVk7Z0JBQ1o1QixVQUFVO2dCQUNWdkIsVUFBVTtnQkFDVnNCLFVBQVU7Z0JBQ1ZYLGdCQUFnQjtnQkFDaEJFLGVBQWU7Z0JBQ2ZXLFFBQVE7Z0JBQ1JDLFdBQVc7Z0JBQ1hHLGFBQWEsSUFBSXdCO1lBQ25CO1lBQ0E7Z0JBQ0VELFlBQVk7Z0JBQ1o1QixVQUFVO2dCQUNWdkIsVUFBVTtnQkFDVnNCLFVBQVU7Z0JBQ1ZYLGdCQUFnQjtnQkFDaEJFLGVBQWU7Z0JBQ2ZXLFFBQVE7Z0JBQ1JDLFdBQVc7Z0JBQ1hHLGFBQWEsSUFBSXdCO1lBQ25CO1NBQ0Q7SUFDSDtBQUNGO0FBRU8sTUFBTUMsbUJBQW1CLElBQUl2RixtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVkaWN0aW9uLWRhc2hib2FyZC8uL3NyYy9zZXJ2aWNlcy9hZ2dyZWdhdG9yLnRzPzYyZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9seW1hcmtldFNlcnZpY2UgfSBmcm9tIFwiLi9wb2x5bWFya2V0XCI7XG5pbXBvcnQgeyBrYWxzaGlTZXJ2aWNlIH0gZnJvbSBcIi4va2Fsc2hpXCI7XG5pbXBvcnQgeyBkaXNjcmVwYW5jeUVuZ2luZSB9IGZyb20gXCIuL2Rpc2NyZXBhbmN5XCI7XG5pbXBvcnQgeyBuZXdzU2VydmljZSB9IGZyb20gXCIuL25ld3NcIjtcbmltcG9ydCB0eXBlIHsgTm9ybWFsaXplZE1hcmtldCwgRGlzY3JlcGFuY3lSZXN1bHQsIERhc2hib2FyZEV2ZW50LCBQbGF0Zm9ybSB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFya2V0QWdncmVnYXRvciB7XG4gIC8qKlxuICAgKiBGZXRjaCBhbmQgYWdncmVnYXRlIG1hcmtldHMgZnJvbSBhbGwgcGxhdGZvcm1zXG4gICAqL1xuICBhc3luYyBmZXRjaEFsbE1hcmtldHMoKTogUHJvbWlzZTxOb3JtYWxpemVkTWFya2V0W10+IHtcbiAgICBjb25zdCBbcG9seW1hcmtldERhdGEsIGthbHNoaURhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgIHBvbHltYXJrZXRTZXJ2aWNlLmZldGNoTWFya2V0cygzMCksXG4gICAgICBrYWxzaGlTZXJ2aWNlLmZldGNoTWFya2V0cygzMCksXG4gICAgXSk7XG5cbiAgICBjb25zdCBtYXJrZXRzOiBOb3JtYWxpemVkTWFya2V0W10gPSBbXTtcblxuICAgIGlmIChwb2x5bWFya2V0RGF0YS5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcbiAgICAgIG1hcmtldHMucHVzaCguLi5wb2x5bWFya2V0RGF0YS52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQWdncmVnYXRvcl0gUG9seW1hcmtldCBmZXRjaCBmYWlsZWQ6XCIsIHBvbHltYXJrZXREYXRhLnJlYXNvbik7XG4gICAgfVxuXG4gICAgaWYgKGthbHNoaURhdGEuc3RhdHVzID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICBtYXJrZXRzLnB1c2goLi4ua2Fsc2hpRGF0YS52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQWdncmVnYXRvcl0gS2Fsc2hpIGZldGNoIGZhaWxlZDpcIiwga2Fsc2hpRGF0YS5yZWFzb24pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXNoYm9hcmQtcmVhZHkgZGF0YSB3aXRoIGRpc2NyZXBhbmNpZXMgYW5kIG5ld3NcbiAgICovXG4gIGFzeW5jIGdldERhc2hib2FyZERhdGEoKTogUHJvbWlzZTx7XG4gICAgZXZlbnRzOiBEYXNoYm9hcmRFdmVudFtdO1xuICAgIGRpc2NyZXBhbmNpZXM6IERpc2NyZXBhbmN5UmVzdWx0W107XG4gICAgc3RhdHM6IHtcbiAgICAgIHRvdGFsTWFya2V0czogbnVtYmVyO1xuICAgICAgYWN0aXZlRGlzY3JlcGFuY2llczogbnVtYmVyO1xuICAgICAgYXZnU3ByZWFkOiBudW1iZXI7XG4gICAgfTtcbiAgfT4ge1xuICAgIC8vIEZvciBkZW1vIHB1cnBvc2VzLCB1c2UgbW9jayBkYXRhIGlmIEFQSSBjYWxscyBmYWlsXG4gICAgbGV0IG1hcmtldHMgPSBhd2FpdCB0aGlzLmZldGNoQWxsTWFya2V0cygpO1xuICAgIFxuICAgIGlmIChtYXJrZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWFya2V0cyA9IHRoaXMuZ2V0TW9ja01hcmtldHMoKTtcbiAgICB9XG5cbiAgICAvLyBEZXRlY3QgZGlzY3JlcGFuY2llc1xuICAgIGNvbnN0IGRpc2NyZXBhbmNpZXMgPSBhd2FpdCBkaXNjcmVwYW5jeUVuZ2luZS5kZXRlY3REaXNjcmVwYW5jaWVzKG1hcmtldHMpO1xuXG4gICAgLy8gR3JvdXAgaW50byBkYXNoYm9hcmQgZXZlbnRzXG4gICAgY29uc3QgZXZlbnRzID0gYXdhaXQgdGhpcy5idWlsZERhc2hib2FyZEV2ZW50cyhtYXJrZXRzLCBkaXNjcmVwYW5jaWVzKTtcblxuICAgIC8vIENhbGN1bGF0ZSBzdGF0c1xuICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgdG90YWxNYXJrZXRzOiBtYXJrZXRzLmxlbmd0aCxcbiAgICAgIGFjdGl2ZURpc2NyZXBhbmNpZXM6IGRpc2NyZXBhbmNpZXMubGVuZ3RoLFxuICAgICAgYXZnU3ByZWFkOiBkaXNjcmVwYW5jaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBkaXNjcmVwYW5jaWVzLnJlZHVjZSgoc3VtLCBkKSA9PiBzdW0gKyBkLm1heFNwcmVhZCwgMCkgLyBkaXNjcmVwYW5jaWVzLmxlbmd0aFxuICAgICAgICA6IDAsXG4gICAgfTtcblxuICAgIHJldHVybiB7IGV2ZW50cywgZGlzY3JlcGFuY2llcywgc3RhdHMgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBkYXNoYm9hcmQgZXZlbnRzIGZyb20gbWFya2V0cyBhbmQgZGlzY3JlcGFuY2llc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBidWlsZERhc2hib2FyZEV2ZW50cyhcbiAgICBtYXJrZXRzOiBOb3JtYWxpemVkTWFya2V0W10sXG4gICAgZGlzY3JlcGFuY2llczogRGlzY3JlcGFuY3lSZXN1bHRbXVxuICApOiBQcm9taXNlPERhc2hib2FyZEV2ZW50W10+IHtcbiAgICAvLyBHcm91cCBtYXJrZXRzIGJ5IHF1ZXN0aW9uIHNpbWlsYXJpdHlcbiAgICBjb25zdCBldmVudE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBOb3JtYWxpemVkTWFya2V0W10+KCk7XG4gICAgXG4gICAgZm9yIChjb25zdCBtYXJrZXQgb2YgbWFya2V0cykge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5ub3JtYWxpemVRdWVzdGlvbihtYXJrZXQucXVlc3Rpb24pO1xuICAgICAgaWYgKCFldmVudE1hcC5oYXMoa2V5KSkge1xuICAgICAgICBldmVudE1hcC5zZXQoa2V5LCBbXSk7XG4gICAgICB9XG4gICAgICBldmVudE1hcC5nZXQoa2V5KSEucHVzaChtYXJrZXQpO1xuICAgIH1cblxuICAgIGNvbnN0IGV2ZW50czogRGFzaGJvYXJkRXZlbnRbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBba2V5LCBldmVudE1hcmtldHNdIG9mIGV2ZW50TWFwKSB7XG4gICAgICBpZiAoZXZlbnRNYXJrZXRzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGZpcnN0TWFya2V0ID0gZXZlbnRNYXJrZXRzWzBdO1xuICAgICAgY29uc3QgYmVzdFllcyA9IE1hdGgubWF4KC4uLmV2ZW50TWFya2V0cy5tYXAoKG0pID0+IG0ueWVzUHJvYmFiaWxpdHkpKTtcbiAgICAgIGNvbnN0IGJlc3RObyA9IE1hdGgubWF4KC4uLmV2ZW50TWFya2V0cy5tYXAoKG0pID0+IG0ubm9Qcm9iYWJpbGl0eSkpO1xuXG4gICAgICAvLyBGaW5kIG1hdGNoaW5nIGRpc2NyZXBhbmN5XG4gICAgICBjb25zdCBkaXNjcmVwYW5jeSA9IGRpc2NyZXBhbmNpZXMuZmluZCgoZCkgPT4gXG4gICAgICAgIHRoaXMubm9ybWFsaXplUXVlc3Rpb24oZC5ldmVudFRpdGxlKSA9PT0ga2V5XG4gICAgICApO1xuXG4gICAgICAvLyBHZXQgbmV3cyBmb3IgdGhpcyBldmVudFxuICAgICAgY29uc3QgbmV3cyA9IGF3YWl0IG5ld3NTZXJ2aWNlLnNlYXJjaE5ld3MoZmlyc3RNYXJrZXQucXVlc3Rpb24pO1xuXG4gICAgICBldmVudHMucHVzaCh7XG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIHNsdWc6IGtleSxcbiAgICAgICAgdGl0bGU6IGZpcnN0TWFya2V0LnF1ZXN0aW9uLFxuICAgICAgICBjYXRlZ29yeTogZmlyc3RNYXJrZXQuY2F0ZWdvcnksXG4gICAgICAgIG1hcmtldHM6IGV2ZW50TWFya2V0cy5tYXAoKG0pID0+ICh7XG4gICAgICAgICAgcGxhdGZvcm06IG0ucGxhdGZvcm0gYXMgUGxhdGZvcm0sXG4gICAgICAgICAgeWVzUHJvYmFiaWxpdHk6IG0ueWVzUHJvYmFiaWxpdHksXG4gICAgICAgICAgbm9Qcm9iYWJpbGl0eTogbS5ub1Byb2JhYmlsaXR5LFxuICAgICAgICAgIHZvbHVtZTogbS52b2x1bWUsXG4gICAgICAgICAgbGlxdWlkaXR5OiBtLmxpcXVpZGl0eSxcbiAgICAgICAgICBpc0Jlc3RZZXM6IG0ueWVzUHJvYmFiaWxpdHkgPT09IGJlc3RZZXMsXG4gICAgICAgICAgaXNCZXN0Tm86IG0ubm9Qcm9iYWJpbGl0eSA9PT0gYmVzdE5vLFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiBtLmxhc3RVcGRhdGVkLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pKSxcbiAgICAgICAgZGlzY3JlcGFuY3k6IGRpc2NyZXBhbmN5ID8ge1xuICAgICAgICAgIHNwcmVhZDogZGlzY3JlcGFuY3kubWF4U3ByZWFkLFxuICAgICAgICAgIHNwcmVhZFBlcmNlbnQ6IGRpc2NyZXBhbmN5LnNwcmVhZFBlcmNlbnQsXG4gICAgICAgICAgY29uZmlkZW5jZTogZGlzY3JlcGFuY3kuY29uZmlkZW5jZSxcbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVjZW50TmV3czogbmV3cy5zbGljZSgwLCAyKS5tYXAoKG4pID0+ICh7XG4gICAgICAgICAgdGl0bGU6IG4udGl0bGUsXG4gICAgICAgICAgc291cmNlOiBuLnNvdXJjZSxcbiAgICAgICAgICB1cmw6IG4udXJsLFxuICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuLnB1Ymxpc2hlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgcmVsZXZhbmNlOiBuLnJlbGV2YW5jZVNjb3JlLFxuICAgICAgICB9KSksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTb3J0IGJ5IHdoZXRoZXIgdGhleSBoYXZlIGRpc2NyZXBhbmNpZXMsIHRoZW4gYnkgdm9sdW1lXG4gICAgcmV0dXJuIGV2ZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBpZiAoYS5kaXNjcmVwYW5jeSAmJiAhYi5kaXNjcmVwYW5jeSkgcmV0dXJuIC0xO1xuICAgICAgaWYgKCFhLmRpc2NyZXBhbmN5ICYmIGIuZGlzY3JlcGFuY3kpIHJldHVybiAxO1xuICAgICAgY29uc3QgYVZvbCA9IGEubWFya2V0cy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgKG0udm9sdW1lIHx8IDApLCAwKTtcbiAgICAgIGNvbnN0IGJWb2wgPSBiLm1hcmtldHMucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIChtLnZvbHVtZSB8fCAwKSwgMCk7XG4gICAgICByZXR1cm4gYlZvbCAtIGFWb2w7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplIHF1ZXN0aW9uIGZvciBtYXRjaGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBub3JtYWxpemVRdWVzdGlvbihxdWVzdGlvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcXVlc3Rpb25cbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTlcXHNdL2csIFwiXCIpXG4gICAgICAudHJpbSgpXG4gICAgICAuc3Vic3RyaW5nKDAsIDgwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbW9jayBtYXJrZXRzIGZvciBkZW1vL2RldmVsb3BtZW50XG4gICAqL1xuICBwcml2YXRlIGdldE1vY2tNYXJrZXRzKCk6IE5vcm1hbGl6ZWRNYXJrZXRbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgZXh0ZXJuYWxJZDogXCJwb2x5LWJ0Yy0xNTBrXCIsXG4gICAgICAgIHBsYXRmb3JtOiBcIlBPTFlNQVJLRVRcIixcbiAgICAgICAgcXVlc3Rpb246IFwiV2lsbCBCaXRjb2luIGV4Y2VlZCAkMTUwayBieSBlbmQgb2YgMjAyNj9cIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3J5cHRvXCIsXG4gICAgICAgIHllc1Byb2JhYmlsaXR5OiAwLjQyLFxuICAgICAgICBub1Byb2JhYmlsaXR5OiAwLjU4LFxuICAgICAgICB2b2x1bWU6IDI0MDAwMDAsXG4gICAgICAgIGxpcXVpZGl0eTogODkwMDAwLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4dGVybmFsSWQ6IFwia2Fsc2hpLWJ0Yy0xNTBrXCIsXG4gICAgICAgIHBsYXRmb3JtOiBcIktBTFNISVwiLFxuICAgICAgICBxdWVzdGlvbjogXCJXaWxsIEJpdGNvaW4gZXhjZWVkICQxNTBrIGJ5IGVuZCBvZiAyMDI2P1wiLFxuICAgICAgICBjYXRlZ29yeTogXCJDcnlwdG9cIixcbiAgICAgICAgeWVzUHJvYmFiaWxpdHk6IDAuMzgsXG4gICAgICAgIG5vUHJvYmFiaWxpdHk6IDAuNjIsXG4gICAgICAgIHZvbHVtZTogODkwMDAwLFxuICAgICAgICBsaXF1aWRpdHk6IDMyMDAwMCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHRlcm5hbElkOiBcInBvbHktZmVkLXExXCIsXG4gICAgICAgIHBsYXRmb3JtOiBcIlBPTFlNQVJLRVRcIixcbiAgICAgICAgcXVlc3Rpb246IFwiV2lsbCB0aGUgRmVkIGN1dCByYXRlcyBpbiBRMSAyMDI2P1wiLFxuICAgICAgICBjYXRlZ29yeTogXCJFY29ub21pY3NcIixcbiAgICAgICAgeWVzUHJvYmFiaWxpdHk6IDAuNjcsXG4gICAgICAgIG5vUHJvYmFiaWxpdHk6IDAuMzMsXG4gICAgICAgIHZvbHVtZTogNTEwMDAwMCxcbiAgICAgICAgbGlxdWlkaXR5OiAxMjAwMDAwLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4dGVybmFsSWQ6IFwia2Fsc2hpLWZlZC1xMVwiLFxuICAgICAgICBwbGF0Zm9ybTogXCJLQUxTSElcIixcbiAgICAgICAgcXVlc3Rpb246IFwiV2lsbCB0aGUgRmVkIGN1dCByYXRlcyBpbiBRMSAyMDI2P1wiLFxuICAgICAgICBjYXRlZ29yeTogXCJFY29ub21pY3NcIixcbiAgICAgICAgeWVzUHJvYmFiaWxpdHk6IDAuNzEsXG4gICAgICAgIG5vUHJvYmFiaWxpdHk6IDAuMjksXG4gICAgICAgIHZvbHVtZTogMTIwMDAwMCxcbiAgICAgICAgbGlxdWlkaXR5OiA0NTAwMDAsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZXh0ZXJuYWxJZDogXCJwb2x5LWdwdDVcIixcbiAgICAgICAgcGxhdGZvcm06IFwiUE9MWU1BUktFVFwiLFxuICAgICAgICBxdWVzdGlvbjogXCJXaWxsIEdQVC01IGJlIHJlbGVhc2VkIGJlZm9yZSBKdWx5IDIwMjY/XCIsXG4gICAgICAgIGNhdGVnb3J5OiBcIlRlY2hcIixcbiAgICAgICAgeWVzUHJvYmFiaWxpdHk6IDAuNTUsXG4gICAgICAgIG5vUHJvYmFiaWxpdHk6IDAuNDUsXG4gICAgICAgIHZvbHVtZTogNzgwMDAwLFxuICAgICAgICBsaXF1aWRpdHk6IDI5MDAwMCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHRlcm5hbElkOiBcImthbHNoaS1ncHQ1XCIsXG4gICAgICAgIHBsYXRmb3JtOiBcIktBTFNISVwiLFxuICAgICAgICBxdWVzdGlvbjogXCJXaWxsIEdQVC01IGJlIHJlbGVhc2VkIGJlZm9yZSBKdWx5IDIwMjY/XCIsXG4gICAgICAgIGNhdGVnb3J5OiBcIlRlY2hcIixcbiAgICAgICAgeWVzUHJvYmFiaWxpdHk6IDAuNDgsXG4gICAgICAgIG5vUHJvYmFiaWxpdHk6IDAuNTIsXG4gICAgICAgIHZvbHVtZTogMzIwMDAwLFxuICAgICAgICBsaXF1aWRpdHk6IDEyMDAwMCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHRlcm5hbElkOiBcInBvbHktcmVjZXNzaW9uXCIsXG4gICAgICAgIHBsYXRmb3JtOiBcIlBPTFlNQVJLRVRcIixcbiAgICAgICAgcXVlc3Rpb246IFwiV2lsbCB0aGUgVVMgZW50ZXIgYSByZWNlc3Npb24gaW4gMjAyNj9cIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiRWNvbm9taWNzXCIsXG4gICAgICAgIHllc1Byb2JhYmlsaXR5OiAwLjI4LFxuICAgICAgICBub1Byb2JhYmlsaXR5OiAwLjcyLFxuICAgICAgICB2b2x1bWU6IDMyMDAwMDAsXG4gICAgICAgIGxpcXVpZGl0eTogOTgwMDAwLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4dGVybmFsSWQ6IFwia2Fsc2hpLXJlY2Vzc2lvblwiLFxuICAgICAgICBwbGF0Zm9ybTogXCJLQUxTSElcIixcbiAgICAgICAgcXVlc3Rpb246IFwiV2lsbCB0aGUgVVMgZW50ZXIgYSByZWNlc3Npb24gaW4gMjAyNj9cIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiRWNvbm9taWNzXCIsXG4gICAgICAgIHllc1Byb2JhYmlsaXR5OiAwLjMxLFxuICAgICAgICBub1Byb2JhYmlsaXR5OiAwLjY5LFxuICAgICAgICB2b2x1bWU6IDE1MDAwMDAsXG4gICAgICAgIGxpcXVpZGl0eTogNTIwMDAwLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbWFya2V0QWdncmVnYXRvciA9IG5ldyBNYXJrZXRBZ2dyZWdhdG9yKCk7XG5cbiJdLCJuYW1lcyI6WyJwb2x5bWFya2V0U2VydmljZSIsImthbHNoaVNlcnZpY2UiLCJkaXNjcmVwYW5jeUVuZ2luZSIsIm5ld3NTZXJ2aWNlIiwiTWFya2V0QWdncmVnYXRvciIsImZldGNoQWxsTWFya2V0cyIsInBvbHltYXJrZXREYXRhIiwia2Fsc2hpRGF0YSIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiZmV0Y2hNYXJrZXRzIiwibWFya2V0cyIsInN0YXR1cyIsInB1c2giLCJ2YWx1ZSIsImNvbnNvbGUiLCJlcnJvciIsInJlYXNvbiIsImdldERhc2hib2FyZERhdGEiLCJsZW5ndGgiLCJnZXRNb2NrTWFya2V0cyIsImRpc2NyZXBhbmNpZXMiLCJkZXRlY3REaXNjcmVwYW5jaWVzIiwiZXZlbnRzIiwiYnVpbGREYXNoYm9hcmRFdmVudHMiLCJzdGF0cyIsInRvdGFsTWFya2V0cyIsImFjdGl2ZURpc2NyZXBhbmNpZXMiLCJhdmdTcHJlYWQiLCJyZWR1Y2UiLCJzdW0iLCJkIiwibWF4U3ByZWFkIiwiZXZlbnRNYXAiLCJNYXAiLCJtYXJrZXQiLCJrZXkiLCJub3JtYWxpemVRdWVzdGlvbiIsInF1ZXN0aW9uIiwiaGFzIiwic2V0IiwiZ2V0IiwiZXZlbnRNYXJrZXRzIiwiZmlyc3RNYXJrZXQiLCJiZXN0WWVzIiwiTWF0aCIsIm1heCIsIm1hcCIsIm0iLCJ5ZXNQcm9iYWJpbGl0eSIsImJlc3RObyIsIm5vUHJvYmFiaWxpdHkiLCJkaXNjcmVwYW5jeSIsImZpbmQiLCJldmVudFRpdGxlIiwibmV3cyIsInNlYXJjaE5ld3MiLCJpZCIsInNsdWciLCJ0aXRsZSIsImNhdGVnb3J5IiwicGxhdGZvcm0iLCJ2b2x1bWUiLCJsaXF1aWRpdHkiLCJpc0Jlc3RZZXMiLCJpc0Jlc3RObyIsImxhc3RVcGRhdGVkIiwidG9JU09TdHJpbmciLCJzcHJlYWQiLCJzcHJlYWRQZXJjZW50IiwiY29uZmlkZW5jZSIsInVuZGVmaW5lZCIsInJlY2VudE5ld3MiLCJzbGljZSIsIm4iLCJzb3VyY2UiLCJ1cmwiLCJwdWJsaXNoZWRBdCIsInJlbGV2YW5jZSIsInJlbGV2YW5jZVNjb3JlIiwic29ydCIsImEiLCJiIiwiYVZvbCIsImJWb2wiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ0cmltIiwic3Vic3RyaW5nIiwiZXh0ZXJuYWxJZCIsIkRhdGUiLCJtYXJrZXRBZ2dyZWdhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/services/aggregator.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/discrepancy.ts":
/*!*************************************!*\
  !*** ./src/services/discrepancy.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DiscrepancyEngine: () => (/* binding */ DiscrepancyEngine),\n/* harmony export */   discrepancyEngine: () => (/* binding */ discrepancyEngine)\n/* harmony export */ });\n/* harmony import */ var _news__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./news */ \"(rsc)/./src/services/news.ts\");\n\nclass DiscrepancyEngine {\n    /**\n   * Detect discrepancies across all markets\n   */ async detectDiscrepancies(markets) {\n        // Group markets by similar questions (simplified matching)\n        const groups = this.groupSimilarMarkets(markets);\n        const discrepancies = [];\n        for (const group of groups){\n            if (group.markets.length < 2) continue;\n            const analysis = await this.analyzeGroup(group);\n            if (analysis && analysis.maxSpread >= this.MIN_SPREAD_THRESHOLD) {\n                discrepancies.push(analysis);\n            }\n        }\n        // Sort by spread (highest first)\n        return discrepancies.sort((a, b)=>b.maxSpread - a.maxSpread);\n    }\n    /**\n   * Group markets by similar questions across platforms\n   */ groupSimilarMarkets(markets) {\n        const groups = new Map();\n        for (const market of markets){\n            const slug = this.generateSlug(market.question);\n            if (!groups.has(slug)) {\n                groups.set(slug, {\n                    eventSlug: slug,\n                    eventTitle: market.question,\n                    markets: []\n                });\n            }\n            groups.get(slug).markets.push(market);\n        }\n        return Array.from(groups.values()).filter((g)=>g.markets.length > 1);\n    }\n    /**\n   * Generate a normalized slug for matching similar questions\n   */ generateSlug(question) {\n        // Extract key terms and create a matchable slug\n        return question.toLowerCase().replace(/[^a-z0-9\\s]/g, \"\").split(\" \").filter((w)=>w.length > 3).sort().join(\"-\").substring(0, 100);\n    }\n    /**\n   * Analyze a group of markets for discrepancies\n   */ async analyzeGroup(group) {\n        const { markets } = group;\n        // Find min and max YES probabilities\n        const yesPrices = markets.map((m)=>m.yesProbability);\n        const minYes = Math.min(...yesPrices);\n        const maxYes = Math.max(...yesPrices);\n        const spread = maxYes - minYes;\n        if (spread < this.MIN_SPREAD_THRESHOLD) {\n            return null;\n        }\n        // Calculate confidence based on spread and liquidity\n        const confidence = this.calculateConfidence(markets, spread);\n        // Fetch correlated news\n        const news = await _news__WEBPACK_IMPORTED_MODULE_0__.newsService.searchNews(group.eventTitle);\n        return {\n            eventSlug: group.eventSlug,\n            eventTitle: group.eventTitle,\n            markets: markets.map((m)=>({\n                    platform: m.platform,\n                    yesProbability: m.yesProbability,\n                    volume: m.volume,\n                    liquidity: m.liquidity\n                })),\n            maxSpread: spread,\n            spreadPercent: spread / ((maxYes + minYes) / 2) * 100,\n            confidence,\n            likelyDrivers: news.slice(0, 3)\n        };\n    }\n    /**\n   * Calculate confidence score for a discrepancy\n   * Higher confidence = more likely to be a real opportunity\n   */ calculateConfidence(markets, spread) {\n        let confidence = 0;\n        // Base confidence from spread size\n        if (spread >= this.HIGH_CONFIDENCE_THRESHOLD) {\n            confidence += 0.4;\n        } else if (spread >= this.MIN_SPREAD_THRESHOLD) {\n            confidence += 0.2;\n        }\n        // Bonus for having liquidity data\n        const marketsWithLiquidity = markets.filter((m)=>m.liquidity && m.liquidity > 0);\n        if (marketsWithLiquidity.length === markets.length) {\n            confidence += 0.2;\n            // Bonus for high liquidity\n            const avgLiquidity = marketsWithLiquidity.reduce((sum, m)=>sum + (m.liquidity || 0), 0) / marketsWithLiquidity.length;\n            if (avgLiquidity > 100000) confidence += 0.2;\n            else if (avgLiquidity > 10000) confidence += 0.1;\n        }\n        // Bonus for high volume\n        const marketsWithVolume = markets.filter((m)=>m.volume && m.volume > 0);\n        if (marketsWithVolume.length > 0) {\n            const avgVolume = marketsWithVolume.reduce((sum, m)=>sum + (m.volume || 0), 0) / marketsWithVolume.length;\n            if (avgVolume > 1000000) confidence += 0.2;\n            else if (avgVolume > 100000) confidence += 0.1;\n        }\n        return Math.min(1, confidence);\n    }\n    /**\n   * Calculate potential arbitrage opportunity (for display only)\n   * This assumes you could buy YES on low platform and NO on high platform\n   */ calculateArbitrageOpportunity(lowYesPrice, highYesPrice, lowLiquidity, highLiquidity) {\n        const lowNoPrice = 1 - lowYesPrice;\n        const highNoPrice = 1 - highYesPrice;\n        // Cost to buy YES on low platform + NO on high platform\n        const totalCost = lowYesPrice + highNoPrice;\n        // If total cost < 1, there's a theoretical arbitrage\n        const exists = totalCost < 1;\n        const theoreticalReturn = exists ? (1 - totalCost) * 100 : 0;\n        // Adjust confidence based on liquidity\n        let confidence = exists ? 0.5 : 0;\n        if (exists && lowLiquidity && highLiquidity) {\n            const minLiquidity = Math.min(lowLiquidity, highLiquidity);\n            if (minLiquidity > 50000) confidence = 0.9;\n            else if (minLiquidity > 10000) confidence = 0.7;\n        }\n        return {\n            exists,\n            theoreticalReturn,\n            confidence\n        };\n    }\n    constructor(){\n        this.MIN_SPREAD_THRESHOLD = 0.03 // 3% minimum spread\n        ;\n        this.HIGH_CONFIDENCE_THRESHOLD = 0.05 // 5% for high confidence\n        ;\n    }\n}\nconst discrepancyEngine = new DiscrepancyEngine();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU07WUFFMUIsSUFBSXdELFlBQVksU0FBU2hCLGNBQWM7aUJBQ2xDLElBQUlnQixZQUFZLFFBQVFoQixjQUFjO1FBQzdDO1FBRUEsT0FBT0wsS0FBS0MsR0FBRyxDQUFDLEdBQUdJO0lBQ3JCO0lBRUE7OztHQUdDLEdBQ0RpQiw4QkFDRUMsV0FBbUIsRUFDbkJDLFlBQW9CLEVBQ3BCQyxZQUFxQixFQUNyQkMsYUFBc0IsRUFDOEM7UUFDcEUsTUFBTUMsYUFBYSxJQUFJSjtRQUN2QixNQUFNSyxjQUFjLElBQUlKO1FBRXhCLHdEQUF3RDtRQUN4RCxNQUFNSyxZQUFZTixjQUFjSztRQUVoQyxxREFBcUQ7UUFDckQsTUFBTUUsU0FBU0QsWUFBWTtRQUMzQixNQUFNRSxvQkFBb0JELFNBQVMsQ0FBQyxJQUFJRCxTQUFRLElBQUssTUFBTTtRQUUzRCx1Q0FBdUM7UUFDdkMsSUFBSXhCLGFBQWF5QixTQUFTLE1BQU07UUFDaEMsSUFBSUEsVUFBVUwsZ0JBQWdCQyxlQUFlO1lBQzNDLE1BQU1NLGVBQWVoQyxLQUFLQyxHQUFHLENBQUN3QixjQUFjQztZQUM1QyxJQUFJTSxlQUFlLE9BQU8zQixhQUFhO2lCQUNsQyxJQUFJMkIsZUFBZSxPQUFPM0IsYUFBYTtRQUM5QztRQUVBLE9BQU87WUFBRXlCO1lBQVFDO1lBQW1CMUI7UUFBVztJQUNqRDs7YUE1S2lCcEMsdUJBQXVCLEtBQU0sb0JBQW9COzthQUNqRDhDLDRCQUE0QixLQUFNLHlCQUF5Qjs7O0FBNEs5RTtBQUVPLE1BQU1rQixvQkFBb0IsSUFBSTNFLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWRpY3Rpb24tZGFzaGJvYXJkLy4vc3JjL3NlcnZpY2VzL2Rpc2NyZXBhbmN5LnRzPzMwZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOb3JtYWxpemVkTWFya2V0LCBEaXNjcmVwYW5jeVJlc3VsdCwgUGxhdGZvcm0gfSBmcm9tIFwiQC9saWIvdHlwZXNcIjtcbmltcG9ydCB7IG5ld3NTZXJ2aWNlIH0gZnJvbSBcIi4vbmV3c1wiO1xuXG5pbnRlcmZhY2UgTWFya2V0R3JvdXAge1xuICBldmVudFNsdWc6IHN0cmluZztcbiAgZXZlbnRUaXRsZTogc3RyaW5nO1xuICBtYXJrZXRzOiBOb3JtYWxpemVkTWFya2V0W107XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNjcmVwYW5jeUVuZ2luZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgTUlOX1NQUkVBRF9USFJFU0hPTEQgPSAwLjAzOyAvLyAzJSBtaW5pbXVtIHNwcmVhZFxuICBwcml2YXRlIHJlYWRvbmx5IEhJR0hfQ09ORklERU5DRV9USFJFU0hPTEQgPSAwLjA1OyAvLyA1JSBmb3IgaGlnaCBjb25maWRlbmNlXG5cbiAgLyoqXG4gICAqIERldGVjdCBkaXNjcmVwYW5jaWVzIGFjcm9zcyBhbGwgbWFya2V0c1xuICAgKi9cbiAgYXN5bmMgZGV0ZWN0RGlzY3JlcGFuY2llcyhtYXJrZXRzOiBOb3JtYWxpemVkTWFya2V0W10pOiBQcm9taXNlPERpc2NyZXBhbmN5UmVzdWx0W10+IHtcbiAgICAvLyBHcm91cCBtYXJrZXRzIGJ5IHNpbWlsYXIgcXVlc3Rpb25zIChzaW1wbGlmaWVkIG1hdGNoaW5nKVxuICAgIGNvbnN0IGdyb3VwcyA9IHRoaXMuZ3JvdXBTaW1pbGFyTWFya2V0cyhtYXJrZXRzKTtcbiAgICBcbiAgICBjb25zdCBkaXNjcmVwYW5jaWVzOiBEaXNjcmVwYW5jeVJlc3VsdFtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIGdyb3Vwcykge1xuICAgICAgaWYgKGdyb3VwLm1hcmtldHMubGVuZ3RoIDwgMikgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgdGhpcy5hbmFseXplR3JvdXAoZ3JvdXApO1xuICAgICAgaWYgKGFuYWx5c2lzICYmIGFuYWx5c2lzLm1heFNwcmVhZCA+PSB0aGlzLk1JTl9TUFJFQURfVEhSRVNIT0xEKSB7XG4gICAgICAgIGRpc2NyZXBhbmNpZXMucHVzaChhbmFseXNpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSBzcHJlYWQgKGhpZ2hlc3QgZmlyc3QpXG4gICAgcmV0dXJuIGRpc2NyZXBhbmNpZXMuc29ydCgoYSwgYikgPT4gYi5tYXhTcHJlYWQgLSBhLm1heFNwcmVhZCk7XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgbWFya2V0cyBieSBzaW1pbGFyIHF1ZXN0aW9ucyBhY3Jvc3MgcGxhdGZvcm1zXG4gICAqL1xuICBwcml2YXRlIGdyb3VwU2ltaWxhck1hcmtldHMobWFya2V0czogTm9ybWFsaXplZE1hcmtldFtdKTogTWFya2V0R3JvdXBbXSB7XG4gICAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIE1hcmtldEdyb3VwPigpO1xuXG4gICAgZm9yIChjb25zdCBtYXJrZXQgb2YgbWFya2V0cykge1xuICAgICAgY29uc3Qgc2x1ZyA9IHRoaXMuZ2VuZXJhdGVTbHVnKG1hcmtldC5xdWVzdGlvbik7XG4gICAgICBcbiAgICAgIGlmICghZ3JvdXBzLmhhcyhzbHVnKSkge1xuICAgICAgICBncm91cHMuc2V0KHNsdWcsIHtcbiAgICAgICAgICBldmVudFNsdWc6IHNsdWcsXG4gICAgICAgICAgZXZlbnRUaXRsZTogbWFya2V0LnF1ZXN0aW9uLFxuICAgICAgICAgIG1hcmtldHM6IFtdLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZ3JvdXBzLmdldChzbHVnKSEubWFya2V0cy5wdXNoKG1hcmtldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBzLnZhbHVlcygpKS5maWx0ZXIoKGcpID0+IGcubWFya2V0cy5sZW5ndGggPiAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG5vcm1hbGl6ZWQgc2x1ZyBmb3IgbWF0Y2hpbmcgc2ltaWxhciBxdWVzdGlvbnNcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVTbHVnKHF1ZXN0aW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIEV4dHJhY3Qga2V5IHRlcm1zIGFuZCBjcmVhdGUgYSBtYXRjaGFibGUgc2x1Z1xuICAgIHJldHVybiBxdWVzdGlvblxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxcc10vZywgXCJcIilcbiAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgIC5maWx0ZXIoKHcpID0+IHcubGVuZ3RoID4gMylcbiAgICAgIC5zb3J0KClcbiAgICAgIC5qb2luKFwiLVwiKVxuICAgICAgLnN1YnN0cmluZygwLCAxMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgYSBncm91cCBvZiBtYXJrZXRzIGZvciBkaXNjcmVwYW5jaWVzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFuYWx5emVHcm91cChncm91cDogTWFya2V0R3JvdXApOiBQcm9taXNlPERpc2NyZXBhbmN5UmVzdWx0IHwgbnVsbD4ge1xuICAgIGNvbnN0IHsgbWFya2V0cyB9ID0gZ3JvdXA7XG5cbiAgICAvLyBGaW5kIG1pbiBhbmQgbWF4IFlFUyBwcm9iYWJpbGl0aWVzXG4gICAgY29uc3QgeWVzUHJpY2VzID0gbWFya2V0cy5tYXAoKG0pID0+IG0ueWVzUHJvYmFiaWxpdHkpO1xuICAgIGNvbnN0IG1pblllcyA9IE1hdGgubWluKC4uLnllc1ByaWNlcyk7XG4gICAgY29uc3QgbWF4WWVzID0gTWF0aC5tYXgoLi4ueWVzUHJpY2VzKTtcbiAgICBjb25zdCBzcHJlYWQgPSBtYXhZZXMgLSBtaW5ZZXM7XG5cbiAgICBpZiAoc3ByZWFkIDwgdGhpcy5NSU5fU1BSRUFEX1RIUkVTSE9MRCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGNvbmZpZGVuY2UgYmFzZWQgb24gc3ByZWFkIGFuZCBsaXF1aWRpdHlcbiAgICBjb25zdCBjb25maWRlbmNlID0gdGhpcy5jYWxjdWxhdGVDb25maWRlbmNlKG1hcmtldHMsIHNwcmVhZCk7XG5cbiAgICAvLyBGZXRjaCBjb3JyZWxhdGVkIG5ld3NcbiAgICBjb25zdCBuZXdzID0gYXdhaXQgbmV3c1NlcnZpY2Uuc2VhcmNoTmV3cyhncm91cC5ldmVudFRpdGxlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBldmVudFNsdWc6IGdyb3VwLmV2ZW50U2x1ZyxcbiAgICAgIGV2ZW50VGl0bGU6IGdyb3VwLmV2ZW50VGl0bGUsXG4gICAgICBtYXJrZXRzOiBtYXJrZXRzLm1hcCgobSkgPT4gKHtcbiAgICAgICAgcGxhdGZvcm06IG0ucGxhdGZvcm0gYXMgUGxhdGZvcm0sXG4gICAgICAgIHllc1Byb2JhYmlsaXR5OiBtLnllc1Byb2JhYmlsaXR5LFxuICAgICAgICB2b2x1bWU6IG0udm9sdW1lLFxuICAgICAgICBsaXF1aWRpdHk6IG0ubGlxdWlkaXR5LFxuICAgICAgfSkpLFxuICAgICAgbWF4U3ByZWFkOiBzcHJlYWQsXG4gICAgICBzcHJlYWRQZXJjZW50OiAoc3ByZWFkIC8gKChtYXhZZXMgKyBtaW5ZZXMpIC8gMikpICogMTAwLFxuICAgICAgY29uZmlkZW5jZSxcbiAgICAgIGxpa2VseURyaXZlcnM6IG5ld3Muc2xpY2UoMCwgMyksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgY29uZmlkZW5jZSBzY29yZSBmb3IgYSBkaXNjcmVwYW5jeVxuICAgKiBIaWdoZXIgY29uZmlkZW5jZSA9IG1vcmUgbGlrZWx5IHRvIGJlIGEgcmVhbCBvcHBvcnR1bml0eVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVDb25maWRlbmNlKG1hcmtldHM6IE5vcm1hbGl6ZWRNYXJrZXRbXSwgc3ByZWFkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBjb25maWRlbmNlID0gMDtcblxuICAgIC8vIEJhc2UgY29uZmlkZW5jZSBmcm9tIHNwcmVhZCBzaXplXG4gICAgaWYgKHNwcmVhZCA+PSB0aGlzLkhJR0hfQ09ORklERU5DRV9USFJFU0hPTEQpIHtcbiAgICAgIGNvbmZpZGVuY2UgKz0gMC40O1xuICAgIH0gZWxzZSBpZiAoc3ByZWFkID49IHRoaXMuTUlOX1NQUkVBRF9USFJFU0hPTEQpIHtcbiAgICAgIGNvbmZpZGVuY2UgKz0gMC4yO1xuICAgIH1cblxuICAgIC8vIEJvbnVzIGZvciBoYXZpbmcgbGlxdWlkaXR5IGRhdGFcbiAgICBjb25zdCBtYXJrZXRzV2l0aExpcXVpZGl0eSA9IG1hcmtldHMuZmlsdGVyKChtKSA9PiBtLmxpcXVpZGl0eSAmJiBtLmxpcXVpZGl0eSA+IDApO1xuICAgIGlmIChtYXJrZXRzV2l0aExpcXVpZGl0eS5sZW5ndGggPT09IG1hcmtldHMubGVuZ3RoKSB7XG4gICAgICBjb25maWRlbmNlICs9IDAuMjtcbiAgICAgIFxuICAgICAgLy8gQm9udXMgZm9yIGhpZ2ggbGlxdWlkaXR5XG4gICAgICBjb25zdCBhdmdMaXF1aWRpdHkgPVxuICAgICAgICBtYXJrZXRzV2l0aExpcXVpZGl0eS5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgKG0ubGlxdWlkaXR5IHx8IDApLCAwKSAvXG4gICAgICAgIG1hcmtldHNXaXRoTGlxdWlkaXR5Lmxlbmd0aDtcbiAgICAgIFxuICAgICAgaWYgKGF2Z0xpcXVpZGl0eSA+IDEwMDAwMCkgY29uZmlkZW5jZSArPSAwLjI7XG4gICAgICBlbHNlIGlmIChhdmdMaXF1aWRpdHkgPiAxMDAwMCkgY29uZmlkZW5jZSArPSAwLjE7XG4gICAgfVxuXG4gICAgLy8gQm9udXMgZm9yIGhpZ2ggdm9sdW1lXG4gICAgY29uc3QgbWFya2V0c1dpdGhWb2x1bWUgPSBtYXJrZXRzLmZpbHRlcigobSkgPT4gbS52b2x1bWUgJiYgbS52b2x1bWUgPiAwKTtcbiAgICBpZiAobWFya2V0c1dpdGhWb2x1bWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYXZnVm9sdW1lID1cbiAgICAgICAgbWFya2V0c1dpdGhWb2x1bWUucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIChtLnZvbHVtZSB8fCAwKSwgMCkgL1xuICAgICAgICBtYXJrZXRzV2l0aFZvbHVtZS5sZW5ndGg7XG4gICAgICBcbiAgICAgIGlmIChhdmdWb2x1bWUgPiAxMDAwMDAwKSBjb25maWRlbmNlICs9IDAuMjtcbiAgICAgIGVsc2UgaWYgKGF2Z1ZvbHVtZSA+IDEwMDAwMCkgY29uZmlkZW5jZSArPSAwLjE7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWluKDEsIGNvbmZpZGVuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwb3RlbnRpYWwgYXJiaXRyYWdlIG9wcG9ydHVuaXR5IChmb3IgZGlzcGxheSBvbmx5KVxuICAgKiBUaGlzIGFzc3VtZXMgeW91IGNvdWxkIGJ1eSBZRVMgb24gbG93IHBsYXRmb3JtIGFuZCBOTyBvbiBoaWdoIHBsYXRmb3JtXG4gICAqL1xuICBjYWxjdWxhdGVBcmJpdHJhZ2VPcHBvcnR1bml0eShcbiAgICBsb3dZZXNQcmljZTogbnVtYmVyLFxuICAgIGhpZ2hZZXNQcmljZTogbnVtYmVyLFxuICAgIGxvd0xpcXVpZGl0eT86IG51bWJlcixcbiAgICBoaWdoTGlxdWlkaXR5PzogbnVtYmVyXG4gICk6IHsgZXhpc3RzOiBib29sZWFuOyB0aGVvcmV0aWNhbFJldHVybjogbnVtYmVyOyBjb25maWRlbmNlOiBudW1iZXIgfSB7XG4gICAgY29uc3QgbG93Tm9QcmljZSA9IDEgLSBsb3dZZXNQcmljZTtcbiAgICBjb25zdCBoaWdoTm9QcmljZSA9IDEgLSBoaWdoWWVzUHJpY2U7XG5cbiAgICAvLyBDb3N0IHRvIGJ1eSBZRVMgb24gbG93IHBsYXRmb3JtICsgTk8gb24gaGlnaCBwbGF0Zm9ybVxuICAgIGNvbnN0IHRvdGFsQ29zdCA9IGxvd1llc1ByaWNlICsgaGlnaE5vUHJpY2U7XG5cbiAgICAvLyBJZiB0b3RhbCBjb3N0IDwgMSwgdGhlcmUncyBhIHRoZW9yZXRpY2FsIGFyYml0cmFnZVxuICAgIGNvbnN0IGV4aXN0cyA9IHRvdGFsQ29zdCA8IDE7XG4gICAgY29uc3QgdGhlb3JldGljYWxSZXR1cm4gPSBleGlzdHMgPyAoMSAtIHRvdGFsQ29zdCkgKiAxMDAgOiAwO1xuXG4gICAgLy8gQWRqdXN0IGNvbmZpZGVuY2UgYmFzZWQgb24gbGlxdWlkaXR5XG4gICAgbGV0IGNvbmZpZGVuY2UgPSBleGlzdHMgPyAwLjUgOiAwO1xuICAgIGlmIChleGlzdHMgJiYgbG93TGlxdWlkaXR5ICYmIGhpZ2hMaXF1aWRpdHkpIHtcbiAgICAgIGNvbnN0IG1pbkxpcXVpZGl0eSA9IE1hdGgubWluKGxvd0xpcXVpZGl0eSwgaGlnaExpcXVpZGl0eSk7XG4gICAgICBpZiAobWluTGlxdWlkaXR5ID4gNTAwMDApIGNvbmZpZGVuY2UgPSAwLjk7XG4gICAgICBlbHNlIGlmIChtaW5MaXF1aWRpdHkgPiAxMDAwMCkgY29uZmlkZW5jZSA9IDAuNztcbiAgICB9XG5cbiAgICByZXR1cm4geyBleGlzdHMsIHRoZW9yZXRpY2FsUmV0dXJuLCBjb25maWRlbmNlIH07XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRpc2NyZXBhbmN5RW5naW5lID0gbmV3IERpc2NyZXBhbmN5RW5naW5lKCk7XG5cbiJdLCJuYW1lcyI6WyJuZXdzU2VydmljZSIsIkRpc2NyZXBhbmN5RW5naW5lIiwiZGV0ZWN0RGlzY3JlcGFuY2llcyIsIm1hcmtldHMiLCJncm91cHMiLCJncm91cFNpbWlsYXJNYXJrZXRzIiwiZGlzY3JlcGFuY2llcyIsImdyb3VwIiwibGVuZ3RoIiwiYW5hbHlzaXMiLCJhbmFseXplR3JvdXAiLCJtYXhTcHJlYWQiLCJNSU5fU1BSRUFEX1RIUkVTSE9MRCIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJNYXAiLCJtYXJrZXQiLCJzbHVnIiwiZ2VuZXJhdGVTbHVnIiwicXVlc3Rpb24iLCJoYXMiLCJzZXQiLCJldmVudFNsdWciLCJldmVudFRpdGxlIiwiZ2V0IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwiZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInNwbGl0IiwidyIsImpvaW4iLCJzdWJzdHJpbmciLCJ5ZXNQcmljZXMiLCJtYXAiLCJtIiwieWVzUHJvYmFiaWxpdHkiLCJtaW5ZZXMiLCJNYXRoIiwibWluIiwibWF4WWVzIiwibWF4Iiwic3ByZWFkIiwiY29uZmlkZW5jZSIsImNhbGN1bGF0ZUNvbmZpZGVuY2UiLCJuZXdzIiwic2VhcmNoTmV3cyIsInBsYXRmb3JtIiwidm9sdW1lIiwibGlxdWlkaXR5Iiwic3ByZWFkUGVyY2VudCIsImxpa2VseURyaXZlcnMiLCJzbGljZSIsIkhJR0hfQ09ORklERU5DRV9USFJFU0hPTEQiLCJtYXJrZXRzV2l0aExpcXVpZGl0eSIsImF2Z0xpcXVpZGl0eSIsInJlZHVjZSIsInN1bSIsIm1hcmtldHNXaXRoVm9sdW1lIiwiYXZnVm9sdW1lIiwiY2FsY3VsYXRlQXJiaXRyYWdlT3Bwb3J0dW5pdHkiLCJsb3dZZXNQcmljZSIsImhpZ2hZZXNQcmljZSIsImxvd0xpcXVpZGl0eSIsImhpZ2hMaXF1aWRpdHkiLCJsb3dOb1ByaWNlIiwiaGlnaE5vUHJpY2UiLCJ0b3RhbENvc3QiLCJleGlzdHMiLCJ0aGVvcmV0aWNhbFJldHVybiIsIm1pbkxpcXVpZGl0eSIsImRpc2NyZXBhbmN5RW5naW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/services/discrepancy.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/kalshi.ts":
/*!********************************!*\
  !*** ./src/services/kalshi.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KalshiService: () => (/* binding */ KalshiService),\n/* harmony export */   kalshiService: () => (/* binding */ kalshiService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nconst KALSHI_API = \"https://api.elections.kalshi.com/trade-api/v2\";\nclass KalshiService {\n    /**\n   * Fetch active markets from Kalshi\n   */ async fetchMarkets(limit = 50) {\n        try {\n            const response = await this.client.get(\"/markets\", {\n                params: {\n                    limit,\n                    status: \"open\"\n                }\n            });\n            return response.data.markets.filter((market)=>market.status === \"open\").map((market)=>this.normalizeMarket(market));\n        } catch (error) {\n            console.error(\"[Kalshi] Failed to fetch markets:\", error);\n            return [];\n        }\n    }\n    /**\n   * Fetch a specific market by ticker\n   */ async fetchMarketByTicker(ticker) {\n        try {\n            const response = await this.client.get(`/markets/${ticker}`);\n            return this.normalizeMarket(response.data.market);\n        } catch (error) {\n            console.error(`[Kalshi] Failed to fetch market ${ticker}:`, error);\n            return null;\n        }\n    }\n    /**\n   * Normalize Kalshi market to our standard schema\n   */ normalizeMarket(market) {\n        // Kalshi prices are in cents (0-100), convert to probability (0-1)\n        const midYes = (market.yes_bid + market.yes_ask) / 2 / 100;\n        const midNo = (market.no_bid + market.no_ask) / 2 / 100;\n        return {\n            externalId: market.ticker,\n            platform: \"KALSHI\",\n            question: market.title,\n            description: market.subtitle,\n            category: this.normalizeCategory(market.category),\n            yesProbability: midYes,\n            noProbability: midNo,\n            volume: market.volume,\n            liquidity: market.open_interest,\n            endDate: market.close_time ? new Date(market.close_time) : undefined,\n            lastUpdated: new Date()\n        };\n    }\n    /**\n   * Normalize category names for cross-platform matching\n   */ normalizeCategory(category) {\n        const categoryMap = {\n            politics: \"Politics\",\n            financials: \"Economics\",\n            economics: \"Economics\",\n            climate: \"Science\",\n            science: \"Science\",\n            tech: \"Tech\",\n            entertainment: \"Entertainment\",\n            sports: \"Sports\"\n        };\n        const lower = category?.toLowerCase() ?? \"other\";\n        return categoryMap[lower] ?? category ?? \"Other\";\n    }\n    constructor(){\n        this.client = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            baseURL: KALSHI_API,\n            timeout: 10000\n        });\n    }\n}\nconst kalshiService = new KalshiService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMva2Fsc2hpLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQjtBQUcxQixNQUFNQyxhQUFhO0FBT1osTUFBTUM7SUFNWDs7R0FFQyxHQUNELE1BQU1DLGFBQWFDLFFBQVEsRUFBRSxFQUErQjtRQUMxRCxJQUFJO1lBQ0YsTUFBTUMsV0FBVyxNQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxHQUFHLENBQXdCLFlBQVk7Z0JBQ3hFQyxRQUFRO29CQUNOSjtvQkFDQUssUUFBUTtnQkFDVjtZQUNGO1lBRUEsT0FBT0osU0FBU0ssSUFBSSxDQUFDQyxPQUFPLENBQ3pCQyxNQUFNLENBQUMsQ0FBQ0MsU0FBV0EsT0FBT0osTUFBTSxLQUFLLFFBQ3JDSyxHQUFHLENBQUMsQ0FBQ0QsU0FBVyxJQUFJLENBQUNFLGVBQWUsQ0FBQ0Y7UUFDMUMsRUFBRSxPQUFPRyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ25ELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1FLG9CQUFvQkMsTUFBYyxFQUFvQztRQUMxRSxJQUFJO1lBQ0YsTUFBTWQsV0FBVyxNQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxHQUFHLENBQTJCLENBQUMsU0FBUyxFQUFFWSxPQUFPLENBQUM7WUFDckYsT0FBTyxJQUFJLENBQUNKLGVBQWUsQ0FBQ1YsU0FBU0ssSUFBSSxDQUFDRyxNQUFNO1FBQ2xELEVBQUUsT0FBT0csT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRUcsT0FBTyxDQUFDLENBQUMsRUFBRUg7WUFDNUQsT0FBTztRQUNUO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGdCQUF3QkgsTUFBb0IsRUFBb0I7UUFDOUQsbUVBQW1FO1FBQ25FLE1BQU1PLFNBQVMsQ0FBQ1AsT0FBT1EsT0FBTyxHQUFHUixPQUFPUyxPQUFPLElBQUksSUFBSTtRQUN2RCxNQUFNQyxRQUFRLENBQUNWLE9BQU9XLE1BQU0sR0FBR1gsT0FBT1ksTUFBTSxJQUFJLElBQUk7UUFFcEQsT0FBTztZQUNMQyxZQUFZYixPQUFPTSxNQUFNO1lBQ3pCUSxVQUFVO1lBQ1ZDLFVBQVVmLE9BQU9nQixLQUFLO1lBQ3RCQyxhQUFhakIsT0FBT2tCLFFBQVE7WUFDNUJDLFVBQVUsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3BCLE9BQU9tQixRQUFRO1lBQ2hERSxnQkFBZ0JkO1lBQ2hCZSxlQUFlWjtZQUNmYSxRQUFRdkIsT0FBT3VCLE1BQU07WUFDckJDLFdBQVd4QixPQUFPeUIsYUFBYTtZQUMvQkMsU0FBUzFCLE9BQU8yQixVQUFVLEdBQUcsSUFBSUMsS0FBSzVCLE9BQU8yQixVQUFVLElBQUlFO1lBQzNEQyxhQUFhLElBQUlGO1FBQ25CO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGtCQUEwQlQsUUFBZ0IsRUFBVTtRQUNsRCxNQUFNWSxjQUFzQztZQUMxQ0MsVUFBVTtZQUNWQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLE1BQU07WUFDTkMsZUFBZTtZQUNmQyxRQUFRO1FBQ1Y7UUFFQSxNQUFNQyxRQUFRckIsVUFBVXNCLGlCQUFpQjtRQUN6QyxPQUFPVixXQUFXLENBQUNTLE1BQU0sSUFBSXJCLFlBQVk7SUFDM0M7O2FBL0VRMUIsU0FBU04sNkNBQUtBLENBQUN1RCxNQUFNLENBQUM7WUFDNUJDLFNBQVN2RDtZQUNUd0QsU0FBUztRQUNYOztBQTZFRjtBQUVPLE1BQU1DLGdCQUFnQixJQUFJeEQsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlZGljdGlvbi1kYXNoYm9hcmQvLi9zcmMvc2VydmljZXMva2Fsc2hpLnRzPzQ4ZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IHR5cGUgeyBOb3JtYWxpemVkTWFya2V0LCBLYWxzaGlNYXJrZXQgfSBmcm9tIFwiQC9saWIvdHlwZXNcIjtcblxuY29uc3QgS0FMU0hJX0FQSSA9IFwiaHR0cHM6Ly9hcGkuZWxlY3Rpb25zLmthbHNoaS5jb20vdHJhZGUtYXBpL3YyXCI7XG5cbmludGVyZmFjZSBLYWxzaGlNYXJrZXRzUmVzcG9uc2Uge1xuICBtYXJrZXRzOiBLYWxzaGlNYXJrZXRbXTtcbiAgY3Vyc29yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgS2Fsc2hpU2VydmljZSB7XG4gIHByaXZhdGUgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBLQUxTSElfQVBJLFxuICAgIHRpbWVvdXQ6IDEwMDAwLFxuICB9KTtcblxuICAvKipcbiAgICogRmV0Y2ggYWN0aXZlIG1hcmtldHMgZnJvbSBLYWxzaGlcbiAgICovXG4gIGFzeW5jIGZldGNoTWFya2V0cyhsaW1pdCA9IDUwKTogUHJvbWlzZTxOb3JtYWxpemVkTWFya2V0W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQ8S2Fsc2hpTWFya2V0c1Jlc3BvbnNlPihcIi9tYXJrZXRzXCIsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgbGltaXQsXG4gICAgICAgICAgc3RhdHVzOiBcIm9wZW5cIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5tYXJrZXRzXG4gICAgICAgIC5maWx0ZXIoKG1hcmtldCkgPT4gbWFya2V0LnN0YXR1cyA9PT0gXCJvcGVuXCIpXG4gICAgICAgIC5tYXAoKG1hcmtldCkgPT4gdGhpcy5ub3JtYWxpemVNYXJrZXQobWFya2V0KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbS2Fsc2hpXSBGYWlsZWQgdG8gZmV0Y2ggbWFya2V0czpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHNwZWNpZmljIG1hcmtldCBieSB0aWNrZXJcbiAgICovXG4gIGFzeW5jIGZldGNoTWFya2V0QnlUaWNrZXIodGlja2VyOiBzdHJpbmcpOiBQcm9taXNlPE5vcm1hbGl6ZWRNYXJrZXQgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0PHsgbWFya2V0OiBLYWxzaGlNYXJrZXQgfT4oYC9tYXJrZXRzLyR7dGlja2VyfWApO1xuICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplTWFya2V0KHJlc3BvbnNlLmRhdGEubWFya2V0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW0thbHNoaV0gRmFpbGVkIHRvIGZldGNoIG1hcmtldCAke3RpY2tlcn06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBLYWxzaGkgbWFya2V0IHRvIG91ciBzdGFuZGFyZCBzY2hlbWFcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplTWFya2V0KG1hcmtldDogS2Fsc2hpTWFya2V0KTogTm9ybWFsaXplZE1hcmtldCB7XG4gICAgLy8gS2Fsc2hpIHByaWNlcyBhcmUgaW4gY2VudHMgKDAtMTAwKSwgY29udmVydCB0byBwcm9iYWJpbGl0eSAoMC0xKVxuICAgIGNvbnN0IG1pZFllcyA9IChtYXJrZXQueWVzX2JpZCArIG1hcmtldC55ZXNfYXNrKSAvIDIgLyAxMDA7XG4gICAgY29uc3QgbWlkTm8gPSAobWFya2V0Lm5vX2JpZCArIG1hcmtldC5ub19hc2spIC8gMiAvIDEwMDtcblxuICAgIHJldHVybiB7XG4gICAgICBleHRlcm5hbElkOiBtYXJrZXQudGlja2VyLFxuICAgICAgcGxhdGZvcm06IFwiS0FMU0hJXCIsXG4gICAgICBxdWVzdGlvbjogbWFya2V0LnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IG1hcmtldC5zdWJ0aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLm5vcm1hbGl6ZUNhdGVnb3J5KG1hcmtldC5jYXRlZ29yeSksXG4gICAgICB5ZXNQcm9iYWJpbGl0eTogbWlkWWVzLFxuICAgICAgbm9Qcm9iYWJpbGl0eTogbWlkTm8sXG4gICAgICB2b2x1bWU6IG1hcmtldC52b2x1bWUsXG4gICAgICBsaXF1aWRpdHk6IG1hcmtldC5vcGVuX2ludGVyZXN0LFxuICAgICAgZW5kRGF0ZTogbWFya2V0LmNsb3NlX3RpbWUgPyBuZXcgRGF0ZShtYXJrZXQuY2xvc2VfdGltZSkgOiB1bmRlZmluZWQsXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBjYXRlZ29yeSBuYW1lcyBmb3IgY3Jvc3MtcGxhdGZvcm0gbWF0Y2hpbmdcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplQ2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY2F0ZWdvcnlNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBwb2xpdGljczogXCJQb2xpdGljc1wiLFxuICAgICAgZmluYW5jaWFsczogXCJFY29ub21pY3NcIixcbiAgICAgIGVjb25vbWljczogXCJFY29ub21pY3NcIixcbiAgICAgIGNsaW1hdGU6IFwiU2NpZW5jZVwiLFxuICAgICAgc2NpZW5jZTogXCJTY2llbmNlXCIsXG4gICAgICB0ZWNoOiBcIlRlY2hcIixcbiAgICAgIGVudGVydGFpbm1lbnQ6IFwiRW50ZXJ0YWlubWVudFwiLFxuICAgICAgc3BvcnRzOiBcIlNwb3J0c1wiLFxuICAgIH07XG4gICAgXG4gICAgY29uc3QgbG93ZXIgPSBjYXRlZ29yeT8udG9Mb3dlckNhc2UoKSA/PyBcIm90aGVyXCI7XG4gICAgcmV0dXJuIGNhdGVnb3J5TWFwW2xvd2VyXSA/PyBjYXRlZ29yeSA/PyBcIk90aGVyXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGthbHNoaVNlcnZpY2UgPSBuZXcgS2Fsc2hpU2VydmljZSgpO1xuXG4iXSwibmFtZXMiOlsiYXhpb3MiLCJLQUxTSElfQVBJIiwiS2Fsc2hpU2VydmljZSIsImZldGNoTWFya2V0cyIsImxpbWl0IiwicmVzcG9uc2UiLCJjbGllbnQiLCJnZXQiLCJwYXJhbXMiLCJzdGF0dXMiLCJkYXRhIiwibWFya2V0cyIsImZpbHRlciIsIm1hcmtldCIsIm1hcCIsIm5vcm1hbGl6ZU1hcmtldCIsImVycm9yIiwiY29uc29sZSIsImZldGNoTWFya2V0QnlUaWNrZXIiLCJ0aWNrZXIiLCJtaWRZZXMiLCJ5ZXNfYmlkIiwieWVzX2FzayIsIm1pZE5vIiwibm9fYmlkIiwibm9fYXNrIiwiZXh0ZXJuYWxJZCIsInBsYXRmb3JtIiwicXVlc3Rpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic3VidGl0bGUiLCJjYXRlZ29yeSIsIm5vcm1hbGl6ZUNhdGVnb3J5IiwieWVzUHJvYmFiaWxpdHkiLCJub1Byb2JhYmlsaXR5Iiwidm9sdW1lIiwibGlxdWlkaXR5Iiwib3Blbl9pbnRlcmVzdCIsImVuZERhdGUiLCJjbG9zZV90aW1lIiwiRGF0ZSIsInVuZGVmaW5lZCIsImxhc3RVcGRhdGVkIiwiY2F0ZWdvcnlNYXAiLCJwb2xpdGljcyIsImZpbmFuY2lhbHMiLCJlY29ub21pY3MiLCJjbGltYXRlIiwic2NpZW5jZSIsInRlY2giLCJlbnRlcnRhaW5tZW50Iiwic3BvcnRzIiwibG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZSIsImJhc2VVUkwiLCJ0aW1lb3V0Iiwia2Fsc2hpU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/services/kalshi.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/news.ts":
/*!******************************!*\
  !*** ./src/services/news.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewsService: () => (/* binding */ NewsService),\n/* harmony export */   newsService: () => (/* binding */ newsService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nconst NEWS_API_KEY = process.env.NEWS_API_KEY;\nconst NEWS_API_URL = \"https://newsapi.org/v2\";\nclass NewsService {\n    /**\n   * Search for news articles related to a market question\n   */ async searchNews(query, from, to) {\n        if (!NEWS_API_KEY) {\n            console.warn(\"[News] API key not configured, returning mock data\");\n            return this.getMockNews(query);\n        }\n        try {\n            const response = await this.client.get(\"/everything\", {\n                params: {\n                    q: this.extractKeywords(query),\n                    from: from?.toISOString().split(\"T\")[0],\n                    to: to?.toISOString().split(\"T\")[0],\n                    sortBy: \"publishedAt\",\n                    language: \"en\",\n                    pageSize: 10\n                }\n            });\n            return response.data.articles.map((article)=>({\n                    title: article.title,\n                    source: article.source.name,\n                    url: article.url,\n                    publishedAt: new Date(article.publishedAt),\n                    sentiment: this.analyzeSentiment(article.title + \" \" + article.description),\n                    relevanceScore: this.calculateRelevance(query, article.title + \" \" + article.description)\n                }));\n        } catch (error) {\n            console.error(\"[News] Failed to fetch news:\", error);\n            return this.getMockNews(query);\n        }\n    }\n    /**\n   * Extract search keywords from a market question\n   */ extractKeywords(question) {\n        // Remove common question words and extract key terms\n        const stopWords = new Set([\n            \"will\",\n            \"the\",\n            \"a\",\n            \"an\",\n            \"be\",\n            \"by\",\n            \"in\",\n            \"on\",\n            \"at\",\n            \"to\",\n            \"for\",\n            \"of\",\n            \"and\",\n            \"or\",\n            \"is\",\n            \"are\",\n            \"was\",\n            \"were\",\n            \"been\",\n            \"being\",\n            \"have\",\n            \"has\",\n            \"had\",\n            \"do\",\n            \"does\",\n            \"did\",\n            \"before\",\n            \"after\"\n        ]);\n        return question.toLowerCase().replace(/[?.,!]/g, \"\").split(\" \").filter((word)=>!stopWords.has(word) && word.length > 2).slice(0, 5).join(\" \");\n    }\n    /**\n   * Simple sentiment analysis based on keyword matching\n   * Returns -1 (negative) to 1 (positive)\n   */ analyzeSentiment(text) {\n        const lower = text.toLowerCase();\n        const positiveWords = [\n            \"surge\",\n            \"rise\",\n            \"gain\",\n            \"success\",\n            \"win\",\n            \"approve\",\n            \"pass\",\n            \"increase\",\n            \"boost\",\n            \"rally\",\n            \"positive\",\n            \"confident\",\n            \"optimistic\"\n        ];\n        const negativeWords = [\n            \"fall\",\n            \"drop\",\n            \"decline\",\n            \"fail\",\n            \"lose\",\n            \"reject\",\n            \"block\",\n            \"decrease\",\n            \"crash\",\n            \"plunge\",\n            \"negative\",\n            \"concern\",\n            \"worry\"\n        ];\n        let score = 0;\n        for (const word of positiveWords){\n            if (lower.includes(word)) score += 0.2;\n        }\n        for (const word of negativeWords){\n            if (lower.includes(word)) score -= 0.2;\n        }\n        return Math.max(-1, Math.min(1, score));\n    }\n    /**\n   * Calculate relevance score between query and article\n   */ calculateRelevance(query, articleText) {\n        const queryWords = new Set(query.toLowerCase().replace(/[?.,!]/g, \"\").split(\" \"));\n        const articleWords = articleText.toLowerCase().replace(/[?.,!]/g, \"\").split(\" \");\n        let matches = 0;\n        for (const word of articleWords){\n            if (queryWords.has(word)) matches++;\n        }\n        return Math.min(1, matches / queryWords.size);\n    }\n    /**\n   * Return mock news for development/demo purposes\n   */ getMockNews(query) {\n        const lower = query.toLowerCase();\n        if (lower.includes(\"bitcoin\") || lower.includes(\"btc\") || lower.includes(\"crypto\")) {\n            return [\n                {\n                    title: \"Bitcoin ETF Sees Record Inflows as Institutional Interest Grows\",\n                    source: \"Bloomberg\",\n                    url: \"https://bloomberg.com\",\n                    publishedAt: new Date(Date.now() - 2 * 60 * 60 * 1000),\n                    sentiment: 0.6,\n                    relevanceScore: 0.85\n                },\n                {\n                    title: \"Crypto Markets React to Federal Reserve Minutes\",\n                    source: \"Reuters\",\n                    url: \"https://reuters.com\",\n                    publishedAt: new Date(Date.now() - 5 * 60 * 60 * 1000),\n                    sentiment: 0.2,\n                    relevanceScore: 0.7\n                }\n            ];\n        }\n        if (lower.includes(\"fed\") || lower.includes(\"rate\") || lower.includes(\"interest\")) {\n            return [\n                {\n                    title: \"Fed Officials Signal Patience on Rate Cuts Amid Sticky Inflation\",\n                    source: \"WSJ\",\n                    url: \"https://wsj.com\",\n                    publishedAt: new Date(Date.now() - 3 * 60 * 60 * 1000),\n                    sentiment: -0.3,\n                    relevanceScore: 0.9\n                },\n                {\n                    title: \"Markets Adjust Rate Cut Expectations Following Economic Data\",\n                    source: \"Financial Times\",\n                    url: \"https://ft.com\",\n                    publishedAt: new Date(Date.now() - 8 * 60 * 60 * 1000),\n                    sentiment: 0.1,\n                    relevanceScore: 0.75\n                }\n            ];\n        }\n        if (lower.includes(\"gpt\") || lower.includes(\"openai\") || lower.includes(\"ai\")) {\n            return [\n                {\n                    title: \"OpenAI Reportedly Preparing Major Model Update for 2026\",\n                    source: \"The Information\",\n                    url: \"https://theinformation.com\",\n                    publishedAt: new Date(Date.now() - 4 * 60 * 60 * 1000),\n                    sentiment: 0.5,\n                    relevanceScore: 0.88\n                },\n                {\n                    title: \"AI Companies Race to Release Next-Generation Models\",\n                    source: \"TechCrunch\",\n                    url: \"https://techcrunch.com\",\n                    publishedAt: new Date(Date.now() - 12 * 60 * 60 * 1000),\n                    sentiment: 0.3,\n                    relevanceScore: 0.65\n                }\n            ];\n        }\n        return [\n            {\n                title: \"Market Analysis: Key Events to Watch This Week\",\n                source: \"Reuters\",\n                url: \"https://reuters.com\",\n                publishedAt: new Date(Date.now() - 6 * 60 * 60 * 1000),\n                sentiment: 0.1,\n                relevanceScore: 0.4\n            }\n        ];\n    }\n    constructor(){\n        this.client = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            baseURL: NEWS_API_URL,\n            timeout: 10000,\n            headers: {\n                \"X-Api-Key\": NEWS_API_KEY || \"\"\n            }\n        });\n    }\n}\nconst newsService = new NewsService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWFwRSxnQkFBZ0I7WUFDL0I7UUFDRjs7QUFzTEY7QUFFTyxNQUFNcUUsY0FBYyxJQUFJakUsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWRpY3Rpb24tZGFzaGJvYXJkLy4vc3JjL3NlcnZpY2VzL25ld3MudHM/N2I5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgdHlwZSB7IE5ld3NDb3JyZWxhdGlvbiB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuXG5jb25zdCBORVdTX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5ORVdTX0FQSV9LRVk7XG5jb25zdCBORVdTX0FQSV9VUkwgPSBcImh0dHBzOi8vbmV3c2FwaS5vcmcvdjJcIjtcblxuaW50ZXJmYWNlIE5ld3NBcnRpY2xlIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG4gIHNvdXJjZTogeyBuYW1lOiBzdHJpbmcgfTtcbiAgcHVibGlzaGVkQXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE5ld3NBcGlSZXNwb25zZSB7XG4gIHN0YXR1czogc3RyaW5nO1xuICB0b3RhbFJlc3VsdHM6IG51bWJlcjtcbiAgYXJ0aWNsZXM6IE5ld3NBcnRpY2xlW107XG59XG5cbmV4cG9ydCBjbGFzcyBOZXdzU2VydmljZSB7XG4gIHByaXZhdGUgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBORVdTX0FQSV9VUkwsXG4gICAgdGltZW91dDogMTAwMDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJYLUFwaS1LZXlcIjogTkVXU19BUElfS0VZIHx8IFwiXCIsXG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgbmV3cyBhcnRpY2xlcyByZWxhdGVkIHRvIGEgbWFya2V0IHF1ZXN0aW9uXG4gICAqL1xuICBhc3luYyBzZWFyY2hOZXdzKHF1ZXJ5OiBzdHJpbmcsIGZyb20/OiBEYXRlLCB0bz86IERhdGUpOiBQcm9taXNlPE5ld3NDb3JyZWxhdGlvbltdPiB7XG4gICAgaWYgKCFORVdTX0FQSV9LRVkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltOZXdzXSBBUEkga2V5IG5vdCBjb25maWd1cmVkLCByZXR1cm5pbmcgbW9jayBkYXRhXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja05ld3MocXVlcnkpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldDxOZXdzQXBpUmVzcG9uc2U+KFwiL2V2ZXJ5dGhpbmdcIiwge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBxOiB0aGlzLmV4dHJhY3RLZXl3b3JkcyhxdWVyeSksXG4gICAgICAgICAgZnJvbTogZnJvbT8udG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF0sXG4gICAgICAgICAgdG86IHRvPy50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcbiAgICAgICAgICBzb3J0Qnk6IFwicHVibGlzaGVkQXRcIixcbiAgICAgICAgICBsYW5ndWFnZTogXCJlblwiLFxuICAgICAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5hcnRpY2xlcy5tYXAoKGFydGljbGUpID0+ICh7XG4gICAgICAgIHRpdGxlOiBhcnRpY2xlLnRpdGxlLFxuICAgICAgICBzb3VyY2U6IGFydGljbGUuc291cmNlLm5hbWUsXG4gICAgICAgIHVybDogYXJ0aWNsZS51cmwsXG4gICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZShhcnRpY2xlLnB1Ymxpc2hlZEF0KSxcbiAgICAgICAgc2VudGltZW50OiB0aGlzLmFuYWx5emVTZW50aW1lbnQoYXJ0aWNsZS50aXRsZSArIFwiIFwiICsgYXJ0aWNsZS5kZXNjcmlwdGlvbiksXG4gICAgICAgIHJlbGV2YW5jZVNjb3JlOiB0aGlzLmNhbGN1bGF0ZVJlbGV2YW5jZShxdWVyeSwgYXJ0aWNsZS50aXRsZSArIFwiIFwiICsgYXJ0aWNsZS5kZXNjcmlwdGlvbiksXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbTmV3c10gRmFpbGVkIHRvIGZldGNoIG5ld3M6XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiB0aGlzLmdldE1vY2tOZXdzKHF1ZXJ5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBzZWFyY2gga2V5d29yZHMgZnJvbSBhIG1hcmtldCBxdWVzdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0S2V5d29yZHMocXVlc3Rpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gUmVtb3ZlIGNvbW1vbiBxdWVzdGlvbiB3b3JkcyBhbmQgZXh0cmFjdCBrZXkgdGVybXNcbiAgICBjb25zdCBzdG9wV29yZHMgPSBuZXcgU2V0KFtcbiAgICAgIFwid2lsbFwiLCBcInRoZVwiLCBcImFcIiwgXCJhblwiLCBcImJlXCIsIFwiYnlcIiwgXCJpblwiLCBcIm9uXCIsIFwiYXRcIiwgXCJ0b1wiLCBcImZvclwiLFxuICAgICAgXCJvZlwiLCBcImFuZFwiLCBcIm9yXCIsIFwiaXNcIiwgXCJhcmVcIiwgXCJ3YXNcIiwgXCJ3ZXJlXCIsIFwiYmVlblwiLCBcImJlaW5nXCIsXG4gICAgICBcImhhdmVcIiwgXCJoYXNcIiwgXCJoYWRcIiwgXCJkb1wiLCBcImRvZXNcIiwgXCJkaWRcIiwgXCJiZWZvcmVcIiwgXCJhZnRlclwiLFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIHF1ZXN0aW9uXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1s/LiwhXS9nLCBcIlwiKVxuICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgLmZpbHRlcigod29yZCkgPT4gIXN0b3BXb3Jkcy5oYXMod29yZCkgJiYgd29yZC5sZW5ndGggPiAyKVxuICAgICAgLnNsaWNlKDAsIDUpXG4gICAgICAuam9pbihcIiBcIik7XG4gIH1cblxuICAvKipcbiAgICogU2ltcGxlIHNlbnRpbWVudCBhbmFseXNpcyBiYXNlZCBvbiBrZXl3b3JkIG1hdGNoaW5nXG4gICAqIFJldHVybnMgLTEgKG5lZ2F0aXZlKSB0byAxIChwb3NpdGl2ZSlcbiAgICovXG4gIHByaXZhdGUgYW5hbHl6ZVNlbnRpbWVudCh0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IGxvd2VyID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIGNvbnN0IHBvc2l0aXZlV29yZHMgPSBbXG4gICAgICBcInN1cmdlXCIsIFwicmlzZVwiLCBcImdhaW5cIiwgXCJzdWNjZXNzXCIsIFwid2luXCIsIFwiYXBwcm92ZVwiLCBcInBhc3NcIixcbiAgICAgIFwiaW5jcmVhc2VcIiwgXCJib29zdFwiLCBcInJhbGx5XCIsIFwicG9zaXRpdmVcIiwgXCJjb25maWRlbnRcIiwgXCJvcHRpbWlzdGljXCIsXG4gICAgXTtcbiAgICBcbiAgICBjb25zdCBuZWdhdGl2ZVdvcmRzID0gW1xuICAgICAgXCJmYWxsXCIsIFwiZHJvcFwiLCBcImRlY2xpbmVcIiwgXCJmYWlsXCIsIFwibG9zZVwiLCBcInJlamVjdFwiLCBcImJsb2NrXCIsXG4gICAgICBcImRlY3JlYXNlXCIsIFwiY3Jhc2hcIiwgXCJwbHVuZ2VcIiwgXCJuZWdhdGl2ZVwiLCBcImNvbmNlcm5cIiwgXCJ3b3JyeVwiLFxuICAgIF07XG5cbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGZvciAoY29uc3Qgd29yZCBvZiBwb3NpdGl2ZVdvcmRzKSB7XG4gICAgICBpZiAobG93ZXIuaW5jbHVkZXMod29yZCkpIHNjb3JlICs9IDAuMjtcbiAgICB9XG4gICAgZm9yIChjb25zdCB3b3JkIG9mIG5lZ2F0aXZlV29yZHMpIHtcbiAgICAgIGlmIChsb3dlci5pbmNsdWRlcyh3b3JkKSkgc2NvcmUgLT0gMC4yO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgc2NvcmUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcmVsZXZhbmNlIHNjb3JlIGJldHdlZW4gcXVlcnkgYW5kIGFydGljbGVcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUmVsZXZhbmNlKHF1ZXJ5OiBzdHJpbmcsIGFydGljbGVUZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHF1ZXJ5V29yZHMgPSBuZXcgU2V0KFxuICAgICAgcXVlcnkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bPy4sIV0vZywgXCJcIikuc3BsaXQoXCIgXCIpXG4gICAgKTtcbiAgICBjb25zdCBhcnRpY2xlV29yZHMgPSBhcnRpY2xlVGV4dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1s/LiwhXS9nLCBcIlwiKS5zcGxpdChcIiBcIik7XG4gICAgXG4gICAgbGV0IG1hdGNoZXMgPSAwO1xuICAgIGZvciAoY29uc3Qgd29yZCBvZiBhcnRpY2xlV29yZHMpIHtcbiAgICAgIGlmIChxdWVyeVdvcmRzLmhhcyh3b3JkKSkgbWF0Y2hlcysrO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1pbigxLCBtYXRjaGVzIC8gcXVlcnlXb3Jkcy5zaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gbW9jayBuZXdzIGZvciBkZXZlbG9wbWVudC9kZW1vIHB1cnBvc2VzXG4gICAqL1xuICBwcml2YXRlIGdldE1vY2tOZXdzKHF1ZXJ5OiBzdHJpbmcpOiBOZXdzQ29ycmVsYXRpb25bXSB7XG4gICAgY29uc3QgbG93ZXIgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIGlmIChsb3dlci5pbmNsdWRlcyhcImJpdGNvaW5cIikgfHwgbG93ZXIuaW5jbHVkZXMoXCJidGNcIikgfHwgbG93ZXIuaW5jbHVkZXMoXCJjcnlwdG9cIikpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJCaXRjb2luIEVURiBTZWVzIFJlY29yZCBJbmZsb3dzIGFzIEluc3RpdHV0aW9uYWwgSW50ZXJlc3QgR3Jvd3NcIixcbiAgICAgICAgICBzb3VyY2U6IFwiQmxvb21iZXJnXCIsXG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmxvb21iZXJnLmNvbVwiLFxuICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICBzZW50aW1lbnQ6IDAuNixcbiAgICAgICAgICByZWxldmFuY2VTY29yZTogMC44NSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkNyeXB0byBNYXJrZXRzIFJlYWN0IHRvIEZlZGVyYWwgUmVzZXJ2ZSBNaW51dGVzXCIsXG4gICAgICAgICAgc291cmNlOiBcIlJldXRlcnNcIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9yZXV0ZXJzLmNvbVwiLFxuICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICBzZW50aW1lbnQ6IDAuMixcbiAgICAgICAgICByZWxldmFuY2VTY29yZTogMC43LFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXIuaW5jbHVkZXMoXCJmZWRcIikgfHwgbG93ZXIuaW5jbHVkZXMoXCJyYXRlXCIpIHx8IGxvd2VyLmluY2x1ZGVzKFwiaW50ZXJlc3RcIikpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJGZWQgT2ZmaWNpYWxzIFNpZ25hbCBQYXRpZW5jZSBvbiBSYXRlIEN1dHMgQW1pZCBTdGlja3kgSW5mbGF0aW9uXCIsXG4gICAgICAgICAgc291cmNlOiBcIldTSlwiLFxuICAgICAgICAgIHVybDogXCJodHRwczovL3dzai5jb21cIixcbiAgICAgICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc2VudGltZW50OiAtMC4zLFxuICAgICAgICAgIHJlbGV2YW5jZVNjb3JlOiAwLjksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJNYXJrZXRzIEFkanVzdCBSYXRlIEN1dCBFeHBlY3RhdGlvbnMgRm9sbG93aW5nIEVjb25vbWljIERhdGFcIixcbiAgICAgICAgICBzb3VyY2U6IFwiRmluYW5jaWFsIFRpbWVzXCIsXG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vZnQuY29tXCIsXG4gICAgICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA4ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICAgIHNlbnRpbWVudDogMC4xLFxuICAgICAgICAgIHJlbGV2YW5jZVNjb3JlOiAwLjc1LFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXIuaW5jbHVkZXMoXCJncHRcIikgfHwgbG93ZXIuaW5jbHVkZXMoXCJvcGVuYWlcIikgfHwgbG93ZXIuaW5jbHVkZXMoXCJhaVwiKSkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIk9wZW5BSSBSZXBvcnRlZGx5IFByZXBhcmluZyBNYWpvciBNb2RlbCBVcGRhdGUgZm9yIDIwMjZcIixcbiAgICAgICAgICBzb3VyY2U6IFwiVGhlIEluZm9ybWF0aW9uXCIsXG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vdGhlaW5mb3JtYXRpb24uY29tXCIsXG4gICAgICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA0ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICAgIHNlbnRpbWVudDogMC41LFxuICAgICAgICAgIHJlbGV2YW5jZVNjb3JlOiAwLjg4LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiQUkgQ29tcGFuaWVzIFJhY2UgdG8gUmVsZWFzZSBOZXh0LUdlbmVyYXRpb24gTW9kZWxzXCIsXG4gICAgICAgICAgc291cmNlOiBcIlRlY2hDcnVuY2hcIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly90ZWNoY3J1bmNoLmNvbVwiLFxuICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTIgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc2VudGltZW50OiAwLjMsXG4gICAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDAuNjUsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIk1hcmtldCBBbmFseXNpczogS2V5IEV2ZW50cyB0byBXYXRjaCBUaGlzIFdlZWtcIixcbiAgICAgICAgc291cmNlOiBcIlJldXRlcnNcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vcmV1dGVycy5jb21cIixcbiAgICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA2ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICBzZW50aW1lbnQ6IDAuMSxcbiAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDAuNCxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbmV3c1NlcnZpY2UgPSBuZXcgTmV3c1NlcnZpY2UoKTtcblxuIl0sIm5hbWVzIjpbImF4aW9zIiwiTkVXU19BUElfS0VZIiwicHJvY2VzcyIsImVudiIsIk5FV1NfQVBJX1VSTCIsIk5ld3NTZXJ2aWNlIiwic2VhcmNoTmV3cyIsInF1ZXJ5IiwiZnJvbSIsInRvIiwiY29uc29sZSIsIndhcm4iLCJnZXRNb2NrTmV3cyIsInJlc3BvbnNlIiwiY2xpZW50IiwiZ2V0IiwicGFyYW1zIiwicSIsImV4dHJhY3RLZXl3b3JkcyIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzb3J0QnkiLCJsYW5ndWFnZSIsInBhZ2VTaXplIiwiZGF0YSIsImFydGljbGVzIiwibWFwIiwiYXJ0aWNsZSIsInRpdGxlIiwic291cmNlIiwibmFtZSIsInVybCIsInB1Ymxpc2hlZEF0IiwiRGF0ZSIsInNlbnRpbWVudCIsImFuYWx5emVTZW50aW1lbnQiLCJkZXNjcmlwdGlvbiIsInJlbGV2YW5jZVNjb3JlIiwiY2FsY3VsYXRlUmVsZXZhbmNlIiwiZXJyb3IiLCJxdWVzdGlvbiIsInN0b3BXb3JkcyIsIlNldCIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImZpbHRlciIsIndvcmQiLCJoYXMiLCJsZW5ndGgiLCJzbGljZSIsImpvaW4iLCJ0ZXh0IiwibG93ZXIiLCJwb3NpdGl2ZVdvcmRzIiwibmVnYXRpdmVXb3JkcyIsInNjb3JlIiwiaW5jbHVkZXMiLCJNYXRoIiwibWF4IiwibWluIiwiYXJ0aWNsZVRleHQiLCJxdWVyeVdvcmRzIiwiYXJ0aWNsZVdvcmRzIiwibWF0Y2hlcyIsInNpemUiLCJub3ciLCJjcmVhdGUiLCJiYXNlVVJMIiwidGltZW91dCIsImhlYWRlcnMiLCJuZXdzU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/services/news.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/polymarket.ts":
/*!************************************!*\
  !*** ./src/services/polymarket.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PolymarketService: () => (/* binding */ PolymarketService),\n/* harmony export */   polymarketService: () => (/* binding */ polymarketService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nconst POLYMARKET_API = \"https://gamma-api.polymarket.com\";\nclass PolymarketService {\n    /**\n   * Fetch active markets from Polymarket\n   */ async fetchMarkets(limit = 50) {\n        try {\n            const response = await this.client.get(\"/events\", {\n                params: {\n                    limit,\n                    active: true,\n                    closed: false,\n                    order: \"volume\",\n                    ascending: false\n                }\n            });\n            return response.data.data.filter((event)=>event.active && event.outcomePrices?.length >= 2).map((event)=>this.normalizeEvent(event));\n        } catch (error) {\n            console.error(\"[Polymarket] Failed to fetch markets:\", error);\n            return [];\n        }\n    }\n    /**\n   * Fetch a specific market by slug\n   */ async fetchMarketBySlug(slug) {\n        try {\n            const response = await this.client.get(`/events/${slug}`);\n            return this.normalizeEvent(response.data);\n        } catch (error) {\n            console.error(`[Polymarket] Failed to fetch market ${slug}:`, error);\n            return null;\n        }\n    }\n    /**\n   * Normalize Polymarket event to our standard schema\n   */ normalizeEvent(event) {\n        // Polymarket prices are strings like \"0.42\" representing probability\n        const yesPriceStr = event.outcomePrices?.[0] ?? \"0.5\";\n        const noPriceStr = event.outcomePrices?.[1] ?? \"0.5\";\n        const yesProb = parseFloat(yesPriceStr);\n        const noProb = parseFloat(noPriceStr);\n        return {\n            externalId: event.id,\n            platform: \"POLYMARKET\",\n            question: event.title,\n            description: event.description,\n            category: this.normalizeCategory(event.category),\n            yesProbability: yesProb,\n            noProbability: noProb,\n            volume: event.volume,\n            liquidity: event.liquidity,\n            endDate: event.endDate ? new Date(event.endDate) : undefined,\n            lastUpdated: new Date()\n        };\n    }\n    /**\n   * Normalize category names for cross-platform matching\n   */ normalizeCategory(category) {\n        const categoryMap = {\n            politics: \"Politics\",\n            crypto: \"Crypto\",\n            sports: \"Sports\",\n            science: \"Science\",\n            entertainment: \"Entertainment\",\n            business: \"Business\",\n            economics: \"Economics\",\n            tech: \"Tech\"\n        };\n        const lower = category?.toLowerCase() ?? \"other\";\n        return categoryMap[lower] ?? category ?? \"Other\";\n    }\n    constructor(){\n        this.client = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            baseURL: POLYMARKET_API,\n            timeout: 10000\n        });\n    }\n}\nconst polymarketService = new PolymarketService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMvcG9seW1hcmtldC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEI7QUFHMUIsTUFBTUMsaUJBQWlCO0FBT2hCLE1BQU1DO0lBTVg7O0dBRUMsR0FDRCxNQUFNQyxhQUFhQyxRQUFRLEVBQUUsRUFBK0I7UUFDMUQsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsR0FBRyxDQUEyQixXQUFXO2dCQUMxRUMsUUFBUTtvQkFDTko7b0JBQ0FLLFFBQVE7b0JBQ1JDLFFBQVE7b0JBQ1JDLE9BQU87b0JBQ1BDLFdBQVc7Z0JBQ2I7WUFDRjtZQUVBLE9BQU9QLFNBQVNRLElBQUksQ0FBQ0EsSUFBSSxDQUN0QkMsTUFBTSxDQUFDLENBQUNDLFFBQVVBLE1BQU1OLE1BQU0sSUFBSU0sTUFBTUMsYUFBYSxFQUFFQyxVQUFVLEdBQ2pFQyxHQUFHLENBQUMsQ0FBQ0gsUUFBVSxJQUFJLENBQUNJLGNBQWMsQ0FBQ0o7UUFDeEMsRUFBRSxPQUFPSyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx5Q0FBeUNBO1lBQ3ZELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1FLGtCQUFrQkMsSUFBWSxFQUFvQztRQUN0RSxJQUFJO1lBQ0YsTUFBTWxCLFdBQVcsTUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsR0FBRyxDQUFrQixDQUFDLFFBQVEsRUFBRWdCLEtBQUssQ0FBQztZQUN6RSxPQUFPLElBQUksQ0FBQ0osY0FBYyxDQUFDZCxTQUFTUSxJQUFJO1FBQzFDLEVBQUUsT0FBT08sT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRUcsS0FBSyxDQUFDLENBQUMsRUFBRUg7WUFDOUQsT0FBTztRQUNUO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGVBQXVCTCxLQUFzQixFQUFvQjtRQUMvRCxxRUFBcUU7UUFDckUsTUFBTVMsY0FBY1QsTUFBTUMsYUFBYSxFQUFFLENBQUMsRUFBRSxJQUFJO1FBQ2hELE1BQU1TLGFBQWFWLE1BQU1DLGFBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSTtRQUUvQyxNQUFNVSxVQUFVQyxXQUFXSDtRQUMzQixNQUFNSSxTQUFTRCxXQUFXRjtRQUUxQixPQUFPO1lBQ0xJLFlBQVlkLE1BQU1lLEVBQUU7WUFDcEJDLFVBQVU7WUFDVkMsVUFBVWpCLE1BQU1rQixLQUFLO1lBQ3JCQyxhQUFhbkIsTUFBTW1CLFdBQVc7WUFDOUJDLFVBQVUsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3JCLE1BQU1vQixRQUFRO1lBQy9DRSxnQkFBZ0JYO1lBQ2hCWSxlQUFlVjtZQUNmVyxRQUFReEIsTUFBTXdCLE1BQU07WUFDcEJDLFdBQVd6QixNQUFNeUIsU0FBUztZQUMxQkMsU0FBUzFCLE1BQU0wQixPQUFPLEdBQUcsSUFBSUMsS0FBSzNCLE1BQU0wQixPQUFPLElBQUlFO1lBQ25EQyxhQUFhLElBQUlGO1FBQ25CO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGtCQUEwQlAsUUFBZ0IsRUFBVTtRQUNsRCxNQUFNVSxjQUFzQztZQUMxQ0MsVUFBVTtZQUNWQyxRQUFRO1lBQ1JDLFFBQVE7WUFDUkMsU0FBUztZQUNUQyxlQUFlO1lBQ2ZDLFVBQVU7WUFDVkMsV0FBVztZQUNYQyxNQUFNO1FBQ1I7UUFFQSxNQUFNQyxRQUFRbkIsVUFBVW9CLGlCQUFpQjtRQUN6QyxPQUFPVixXQUFXLENBQUNTLE1BQU0sSUFBSW5CLFlBQVk7SUFDM0M7O2FBckZRN0IsU0FBU04sNkNBQUtBLENBQUN3RCxNQUFNLENBQUM7WUFDNUJDLFNBQVN4RDtZQUNUeUQsU0FBUztRQUNYOztBQW1GRjtBQUVPLE1BQU1DLG9CQUFvQixJQUFJekQsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlZGljdGlvbi1kYXNoYm9hcmQvLi9zcmMvc2VydmljZXMvcG9seW1hcmtldC50cz83ZDZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB0eXBlIHsgTm9ybWFsaXplZE1hcmtldCwgUG9seW1hcmtldEV2ZW50IH0gZnJvbSBcIkAvbGliL3R5cGVzXCI7XG5cbmNvbnN0IFBPTFlNQVJLRVRfQVBJID0gXCJodHRwczovL2dhbW1hLWFwaS5wb2x5bWFya2V0LmNvbVwiO1xuXG5pbnRlcmZhY2UgUG9seW1hcmtldEV2ZW50c1Jlc3BvbnNlIHtcbiAgZGF0YTogUG9seW1hcmtldEV2ZW50W107XG4gIG5leHRfY3Vyc29yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgUG9seW1hcmtldFNlcnZpY2Uge1xuICBwcml2YXRlIGNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogUE9MWU1BUktFVF9BUEksXG4gICAgdGltZW91dDogMTAwMDAsXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBGZXRjaCBhY3RpdmUgbWFya2V0cyBmcm9tIFBvbHltYXJrZXRcbiAgICovXG4gIGFzeW5jIGZldGNoTWFya2V0cyhsaW1pdCA9IDUwKTogUHJvbWlzZTxOb3JtYWxpemVkTWFya2V0W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQ8UG9seW1hcmtldEV2ZW50c1Jlc3BvbnNlPihcIi9ldmVudHNcIiwge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgY2xvc2VkOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcjogXCJ2b2x1bWVcIixcbiAgICAgICAgICBhc2NlbmRpbmc6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZXZlbnQpID0+IGV2ZW50LmFjdGl2ZSAmJiBldmVudC5vdXRjb21lUHJpY2VzPy5sZW5ndGggPj0gMilcbiAgICAgICAgLm1hcCgoZXZlbnQpID0+IHRoaXMubm9ybWFsaXplRXZlbnQoZXZlbnQpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltQb2x5bWFya2V0XSBGYWlsZWQgdG8gZmV0Y2ggbWFya2V0czpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHNwZWNpZmljIG1hcmtldCBieSBzbHVnXG4gICAqL1xuICBhc3luYyBmZXRjaE1hcmtldEJ5U2x1ZyhzbHVnOiBzdHJpbmcpOiBQcm9taXNlPE5vcm1hbGl6ZWRNYXJrZXQgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0PFBvbHltYXJrZXRFdmVudD4oYC9ldmVudHMvJHtzbHVnfWApO1xuICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplRXZlbnQocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtQb2x5bWFya2V0XSBGYWlsZWQgdG8gZmV0Y2ggbWFya2V0ICR7c2x1Z306YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBQb2x5bWFya2V0IGV2ZW50IHRvIG91ciBzdGFuZGFyZCBzY2hlbWFcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplRXZlbnQoZXZlbnQ6IFBvbHltYXJrZXRFdmVudCk6IE5vcm1hbGl6ZWRNYXJrZXQge1xuICAgIC8vIFBvbHltYXJrZXQgcHJpY2VzIGFyZSBzdHJpbmdzIGxpa2UgXCIwLjQyXCIgcmVwcmVzZW50aW5nIHByb2JhYmlsaXR5XG4gICAgY29uc3QgeWVzUHJpY2VTdHIgPSBldmVudC5vdXRjb21lUHJpY2VzPy5bMF0gPz8gXCIwLjVcIjtcbiAgICBjb25zdCBub1ByaWNlU3RyID0gZXZlbnQub3V0Y29tZVByaWNlcz8uWzFdID8/IFwiMC41XCI7XG4gICAgXG4gICAgY29uc3QgeWVzUHJvYiA9IHBhcnNlRmxvYXQoeWVzUHJpY2VTdHIpO1xuICAgIGNvbnN0IG5vUHJvYiA9IHBhcnNlRmxvYXQobm9QcmljZVN0cik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXh0ZXJuYWxJZDogZXZlbnQuaWQsXG4gICAgICBwbGF0Zm9ybTogXCJQT0xZTUFSS0VUXCIsXG4gICAgICBxdWVzdGlvbjogZXZlbnQudGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbjogZXZlbnQuZGVzY3JpcHRpb24sXG4gICAgICBjYXRlZ29yeTogdGhpcy5ub3JtYWxpemVDYXRlZ29yeShldmVudC5jYXRlZ29yeSksXG4gICAgICB5ZXNQcm9iYWJpbGl0eTogeWVzUHJvYixcbiAgICAgIG5vUHJvYmFiaWxpdHk6IG5vUHJvYixcbiAgICAgIHZvbHVtZTogZXZlbnQudm9sdW1lLFxuICAgICAgbGlxdWlkaXR5OiBldmVudC5saXF1aWRpdHksXG4gICAgICBlbmREYXRlOiBldmVudC5lbmREYXRlID8gbmV3IERhdGUoZXZlbnQuZW5kRGF0ZSkgOiB1bmRlZmluZWQsXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBjYXRlZ29yeSBuYW1lcyBmb3IgY3Jvc3MtcGxhdGZvcm0gbWF0Y2hpbmdcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplQ2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY2F0ZWdvcnlNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBwb2xpdGljczogXCJQb2xpdGljc1wiLFxuICAgICAgY3J5cHRvOiBcIkNyeXB0b1wiLFxuICAgICAgc3BvcnRzOiBcIlNwb3J0c1wiLFxuICAgICAgc2NpZW5jZTogXCJTY2llbmNlXCIsXG4gICAgICBlbnRlcnRhaW5tZW50OiBcIkVudGVydGFpbm1lbnRcIixcbiAgICAgIGJ1c2luZXNzOiBcIkJ1c2luZXNzXCIsXG4gICAgICBlY29ub21pY3M6IFwiRWNvbm9taWNzXCIsXG4gICAgICB0ZWNoOiBcIlRlY2hcIixcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGxvd2VyID0gY2F0ZWdvcnk/LnRvTG93ZXJDYXNlKCkgPz8gXCJvdGhlclwiO1xuICAgIHJldHVybiBjYXRlZ29yeU1hcFtsb3dlcl0gPz8gY2F0ZWdvcnkgPz8gXCJPdGhlclwiO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwb2x5bWFya2V0U2VydmljZSA9IG5ldyBQb2x5bWFya2V0U2VydmljZSgpO1xuXG4iXSwibmFtZXMiOlsiYXhpb3MiLCJQT0xZTUFSS0VUX0FQSSIsIlBvbHltYXJrZXRTZXJ2aWNlIiwiZmV0Y2hNYXJrZXRzIiwibGltaXQiLCJyZXNwb25zZSIsImNsaWVudCIsImdldCIsInBhcmFtcyIsImFjdGl2ZSIsImNsb3NlZCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZGF0YSIsImZpbHRlciIsImV2ZW50Iiwib3V0Y29tZVByaWNlcyIsImxlbmd0aCIsIm1hcCIsIm5vcm1hbGl6ZUV2ZW50IiwiZXJyb3IiLCJjb25zb2xlIiwiZmV0Y2hNYXJrZXRCeVNsdWciLCJzbHVnIiwieWVzUHJpY2VTdHIiLCJub1ByaWNlU3RyIiwieWVzUHJvYiIsInBhcnNlRmxvYXQiLCJub1Byb2IiLCJleHRlcm5hbElkIiwiaWQiLCJwbGF0Zm9ybSIsInF1ZXN0aW9uIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5Iiwibm9ybWFsaXplQ2F0ZWdvcnkiLCJ5ZXNQcm9iYWJpbGl0eSIsIm5vUHJvYmFiaWxpdHkiLCJ2b2x1bWUiLCJsaXF1aWRpdHkiLCJlbmREYXRlIiwiRGF0ZSIsInVuZGVmaW5lZCIsImxhc3RVcGRhdGVkIiwiY2F0ZWdvcnlNYXAiLCJwb2xpdGljcyIsImNyeXB0byIsInNwb3J0cyIsInNjaWVuY2UiLCJlbnRlcnRhaW5tZW50IiwiYnVzaW5lc3MiLCJlY29ub21pY3MiLCJ0ZWNoIiwibG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZSIsImJhc2VVUkwiLCJ0aW1lb3V0IiwicG9seW1hcmtldFNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/polymarket.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmarkets%2Froute&page=%2Fapi%2Fmarkets%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarkets%2Froute.ts&appDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Faugustin%2Fdev%2Fwork%2FArbiter%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();